<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>JoeGoodyLv | JoeGoodyLv</title><meta name="author" content="JoeGoodyLv"><meta name="copyright" content="JoeGoodyLv"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="title: C++学习笔记(1) description: 学习笔记之《21天学通C++(第8版)》Siddhartha Rao著。 categories: 学习笔记 cover: https:&#x2F;&#x2F;w.wallhaven.cc&#x2F;full&#x2F;rd&#x2F;wallhaven-rdwjj7.jpg tags:  C-plus-plus STL  C++学习笔记(1)  《21天学通C++(第8版)》Siddh">
<meta property="og:type" content="article">
<meta property="og:title" content="JoeGoodyLv">
<meta property="og:url" content="https://guojin_lv.gitee.io/hexo-blogs/2022/08/19/C++%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0(1)/index.html">
<meta property="og:site_name" content="JoeGoodyLv">
<meta property="og:description" content="title: C++学习笔记(1) description: 学习笔记之《21天学通C++(第8版)》Siddhartha Rao著。 categories: 学习笔记 cover: https:&#x2F;&#x2F;w.wallhaven.cc&#x2F;full&#x2F;rd&#x2F;wallhaven-rdwjj7.jpg tags:  C-plus-plus STL  C++学习笔记(1)  《21天学通C++(第8版)》Siddh">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://guojin_lv.gitee.io/hexo-blogs/img/2.jpg">
<meta property="article:published_time" content="2022-08-19T05:08:31.813Z">
<meta property="article:modified_time" content="2022-08-18T11:49:07.924Z">
<meta property="article:author" content="JoeGoodyLv">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://guojin_lv.gitee.io/hexo-blogs/img/2.jpg"><link rel="shortcut icon" href="/hexo-blogs/img/favicon1.png"><link rel="canonical" href="https://guojin_lv.gitee.io/hexo-blogs/2022/08/19/C++%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0(1)/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/hexo-blogs/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/hexo-blogs/',
  algolia: undefined,
  localSearch: {"path":"/hexo-blogs/search.json","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'JoeGoodyLv',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-08-18 19:49:07'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.2.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/hexo-blogs/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/hexo-blogs/archives/"><div class="headline">文章</div><div class="length-num">13</div></a><a href="/hexo-blogs/tags/"><div class="headline">标签</div><div class="length-num">18</div></a><a href="/hexo-blogs/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/hexo-blogs/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/hexo-blogs/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/hexo-blogs/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/hexo-blogs/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/hexo-blogs/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/hexo-blogs/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/hexo-blogs/img/2.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/hexo-blogs/">JoeGoodyLv</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/hexo-blogs/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/hexo-blogs/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/hexo-blogs/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/hexo-blogs/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/hexo-blogs/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/hexo-blogs/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">无题</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-08-19T05:08:31.813Z" title="发表于 2022-08-19 13:08:31">2022-08-19</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-08-18T11:49:07.924Z" title="更新于 2022-08-18 19:49:07">2022-08-18</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">17.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>74分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>title: C++学习笔记(1)<br>
description: 学习笔记之《21天学通C++(第8版)》Siddhartha Rao著。<br>
categories: 学习笔记<br>
cover: <a target="_blank" rel="noopener" href="https://w.wallhaven.cc/full/rd/wallhaven-rdwjj7.jpg">https://w.wallhaven.cc/full/rd/wallhaven-rdwjj7.jpg</a><br>
tags:</p>
<ul>
<li>C-plus-plus</li>
<li>STL</li>
</ul>
<h1>C++学习笔记(1)</h1>
<blockquote>
<p>《21天学通C++(第8版)》Siddhartha Rao著</p>
</blockquote>
<!--start: 2022.03.06-->
<h2 id="auto">auto</h2>
<ol>
<li>
<p><strong>auto</strong>自动推断类型（C++11新增）</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用auto必须进行初始化</span></span><br><span class="line"><span class="keyword">auto</span> largeNumber = <span class="number">25000000000000</span>; <span class="comment">//编译器根据初始值来确定合适的值，这里应该为long long</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>auto迭代</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a[] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span> temp : a)</span><br><span class="line">&#123;</span><br><span class="line">   cout&lt;&lt;temp&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//auto&amp; 可以修改数组a的值</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">auto</span>&amp; temp : a)</span><br><span class="line">&#123;</span><br><span class="line">    temp++;</span><br><span class="line">    cout&lt;&lt;temp&lt;&lt;endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="const-constexpr">const; constexpr</h2>
<ol>
<li>
<p>如果变量的值不应该被改变，就应该将其声明为常量。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">double</span> PI = <span class="number">3.1415926</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">constexpr</span> <span class="type">double</span> <span class="title">GetPi</span><span class="params">()</span></span>&#123; <span class="keyword">return</span> <span class="number">22.0</span>/<span class="number">7</span>;&#125; <span class="comment">//使用constexpr声明常量表达式</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">CardinalDirections</span></span><br><span class="line">&#123;</span><br><span class="line">    North,</span><br><span class="line">    South,</span><br><span class="line">    East,</span><br><span class="line">    West</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//不要使用#define定义常量，该方法已被摒弃</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><strong>不要使用#define定义常量，该方法已被摒弃。</strong></p>
<h2 id="动态数组">动态数组</h2>
<p>std::vector</p>
<h2 id="C-字符串">C++字符串</h2>
<ol>
<li>避免C风格字符串：以’\0’作为终止空字符。</li>
<li>使用std:string，包含<code>#include&lt;string&gt;</code></li>
</ol>
<h2 id="内联函数">内联函数</h2>
<ol>
<li>当<strong>函数非常简单，且需要降低开销</strong>的时候，可以声明为内联函数。</li>
</ol>
<h2 id="指针">指针</h2>
<ol>
<li>
<p>指针是存储内存地址的变量。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> *p = <span class="literal">NULL</span>;<span class="comment">//初始化，未初始化的指针包含的值是垃圾值（随机的），可能导致问题（非法访问）。</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>使用引用运算符<code>&amp;</code>获取变量的地址。</p>
</li>
<li>
<p>解除引用运算符<code>*</code>访问指向地址所存储的值。</p>
</li>
<li>
<p>const修饰指针</p>
<ul>
<li>
<p>修饰 <strong>指针包含的地址为常量</strong>，无法修改，但可修改指针指向的数据。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> daysInMonth = <span class="number">30</span>;</span><br><span class="line"><span class="type">int</span>* <span class="type">const</span> pdaysMonth = &amp;daysInMonth;</span><br><span class="line">*pDaysMonth = <span class="number">31</span>;<span class="comment">//OK!</span></span><br><span class="line"><span class="type">int</span> daysInLUnarMonth = <span class="number">28</span>;</span><br><span class="line"></span><br><span class="line">pDaysMonth = &amp;daysInLUnarMonth;<span class="comment">//Not OK!</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>修饰 <strong>指针指向的数据为常量</strong>，不能修改，但可以修改指针包含的地址。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> daysInMonth = <span class="number">30</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span>* pdaysMonth = &amp;daysInMonth;</span><br><span class="line">*pDaysMonth = <span class="number">31</span>;<span class="comment">//Not OK!</span></span><br><span class="line"><span class="type">int</span> daysInLUnarMonth = <span class="number">28</span>;</span><br><span class="line"></span><br><span class="line">pDaysMonth = &amp;daysInLUnarMonth;<span class="comment">//OK!</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span>* newMonth = pDaysMonth;<span class="comment">//Not OK!</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>修饰 <strong>指针包含的地址以及它指向的值都是常量</strong>，不能修改。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> daysInMonth = <span class="number">30</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span>* <span class="type">const</span> pdaysMonth = &amp;daysInMonth;</span><br><span class="line">*pDaysMonth = <span class="number">31</span>;<span class="comment">//Not OK!</span></span><br><span class="line"><span class="type">int</span> daysInLUnarMonth = <span class="number">28</span>;</span><br><span class="line">pDaysMonth = &amp;daysInLUnarMonth;<span class="comment">//Not OK!</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>数组可赋给指针。</p>
</li>
<li>
<p>使用指针常见错误：</p>
<ul>
<li>内存泄漏</li>
<li>指针指向无用的内存单元：未初始化</li>
</ul>
</li>
</ol>
<h2 id="new-std-nothrow">new(std::nothrow)</h2>
<ol>
<li><strong>new</strong>(std::<strong>nothrow</strong>) 顾名思义，即不抛出异常，<strong>当</strong>new<strong>一个对象失败时，默认设置该对象为NULL</strong>，这样可以方便的通过if(p ** NULL) 来判断<strong>new</strong>操作是否成功。</li>
<li>普通的<strong>new</strong>操作，如果分配内存失败则会抛出异常，虽然后面一般也会写上if(p ** NULL) 但是实际上是自欺欺人，因为如果分配成功，p肯定不为NULL；而如果分配失败，则程序会抛出异常，if语句根本执行不到。</li>
<li>因此，建议在c++代码中，凡是涉及到<strong>new</strong>操作，都采用<strong>new</strong>(std::<strong>nothrow</strong>)，然后if(p**NULL)的方式进行判断</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span>* points = <span class="built_in">new</span>(nothrow) <span class="type">int</span>[<span class="number">10</span>];</span><br><span class="line">	<span class="keyword">if</span>(points)</span><br><span class="line">	&#123;</span><br><span class="line">		cout&lt;&lt;<span class="string">&quot;Memory allocation successed. Ending program&quot;</span>&lt;&lt;endl;</span><br><span class="line">		<span class="keyword">delete</span>[] points;</span><br><span class="line">	&#125;	</span><br><span class="line">	<span class="keyword">else</span>&#123;</span><br><span class="line">		cout&lt;&lt;<span class="string">&quot;Memory allocation failed. Ending program&quot;</span>&lt;&lt;endl;</span><br><span class="line">	&#125;</span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="引用">引用</h2>
<ol>
<li>
<p>引用是相应变量的别名。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> flag = <span class="number">30</span>;</span><br><span class="line"><span class="type">int</span>&amp; temp = flag;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>const修饰引用：禁止通过引用修改它所指向变量的值。</p>
</li>
<li>
<p><strong>引用</strong>向函数传递参数**的优点之一：可避免将形参赋值给形参，从而极大提高性能。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">//如果函数接收非常大的对象，则按值传递的开销将非常大，通过使用引用，可极大地提高函数调用的效率。别忘了将const用于引用参数，除非函数需要将结果储存于参数中。</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">GetSquare</span><span class="params">(<span class="type">const</span> <span class="type">int</span>&amp; number, <span class="type">int</span>&amp; result)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	result = number*number;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> number = <span class="number">0</span>;</span><br><span class="line">	cin &gt;&gt; number;</span><br><span class="line">	</span><br><span class="line">	<span class="type">int</span> square = <span class="number">0</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">GetSquare</span>(number,square);</span><br><span class="line">	</span><br><span class="line">	cout&lt;&lt;number&lt;&lt;<span class="string">&quot;^2 = &quot;</span>&lt;&lt;square&lt;&lt;endl;</span><br><span class="line">	</span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<!--end: 2022.03.06-->
<!--start: 2022.03.07-->
<h2 id="类和对象">类和对象</h2>
<h3 id="拷贝构造函数">拷贝构造函数</h3>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">什么是浅拷贝？只有普通变量初始化的拷贝构造函数就浅拷贝。咋算普通变量？如int,char, string…不涉及指针变量。可以直接使用默认拷贝构造函数。</span><br><span class="line"></span><br><span class="line">什么是深拷贝？不用默认拷贝构造函数，自己显式定义一个拷贝构造函数，并且在其内部再次分配动态内存，这就是深拷贝。总的来说，就是类中涉及到指针变量，需要在拷贝构造函数内部申请一遍。</span><br><span class="line"></span><br><span class="line">使用浅拷贝还是深拷贝，最直接判断方式是看一下类中有没有指针变量。</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ol>
<li><strong>浅拷贝</strong>：如果类中含有指针变量，导致多个对象共用同一块资源，同一块资源释放多次，崩溃或者内存泄漏。</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 深浅拷贝操作</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// 无参构造函数</span></span><br><span class="line">    <span class="built_in">Person</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Person的构造函数调用&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 有参构造函数</span></span><br><span class="line">    <span class="built_in">Person</span>(<span class="type">int</span> a, <span class="type">int</span> h)</span><br><span class="line">    &#123;</span><br><span class="line">        m_Age = a;</span><br><span class="line">        m_Height = <span class="keyword">new</span> <span class="built_in">int</span>(h);</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Person的有参构造函数调用&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 析构造函数</span></span><br><span class="line">    ~<span class="built_in">Person</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 将堆区开辟的空间释放掉</span></span><br><span class="line">        <span class="keyword">if</span>(m_Height != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">delete</span> m_Height;</span><br><span class="line">            m_Height = <span class="literal">NULL</span>;    <span class="comment">// 防止野指针出现</span></span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Person的析构造函数调用&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 自己实现拷贝构造函数，解决浅拷贝带来的问题</span></span><br><span class="line">    <span class="comment">//务必将接受源对象的参数声明为const引用</span></span><br><span class="line">    <span class="built_in">Person</span>(<span class="type">const</span> Person &amp;p)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Person拷贝造函数调用&quot;</span> &lt;&lt; endl;</span><br><span class="line">        m_Age = p.m_Age;</span><br><span class="line">        <span class="comment">// m_Height = p.m_Height;   // 编译器默认实现就是这行代码(浅拷贝)</span></span><br><span class="line">        <span class="comment">// 深拷贝操作</span></span><br><span class="line">        m_Height = <span class="keyword">new</span> <span class="built_in">int</span>(*p.m_Height);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> m_Age;  <span class="comment">// 年龄</span></span><br><span class="line">    <span class="type">int</span> *m_Height; <span class="comment">// 身高</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">test01</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Person <span class="title">p1</span><span class="params">(<span class="number">18</span>, <span class="number">160</span>)</span></span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Person的年龄：&quot;</span> &lt;&lt; p1.m_Age &lt;&lt; <span class="string">&quot;身高为：&quot;</span> &lt;&lt; *p1.m_Height &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="function">Person <span class="title">p2</span><span class="params">(p1)</span></span>;  <span class="comment">// 执行来浅拷贝操作（调用默认的拷贝函数）</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;P2的年龄：&quot;</span> &lt;&lt; p1.m_Age &lt;&lt; <span class="string">&quot;身高为：&quot;</span> &lt;&lt; *p2.m_Height &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> <span class="type">const</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">/* code */</span></span><br><span class="line">    <span class="built_in">test01</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://picture-cloud-storage-bed.oss-cn-chengdu.aliyuncs.com/images/202205231058265.jpg" alt=""></p>
<h3 id="单例类">单例类</h3>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/lifexy/p/8810877.html">28.C+± 单例类模板(详解) - 诺谦 - 博客园 (cnblogs.com)</a></p>
<h3 id="explicit">explicit</h3>
<ol>
<li>explicit关键字的作用就是防止类构造函数的隐式自动转换.</li>
<li>explicit关键字只对有一个参数的类构造函数有效, 如果类构造函数参数大于或等于两个时, 是不会产生隐式转换的, 所以explicit关键字也就无效了.</li>
<li>explicit关键字只需用于类内的单参数构造函数前面。由于无参数的构造函数和多参数的构造函数总是显示调用，这种情况在构造函数前加explicit无意义。</li>
<li>**google的c++规范中提到explicit的优点是可以避免不合时宜的类型变换，缺点无。**所以google约定所有单参数的构造函数都必须是显示的，只有极少数情况下拷贝构造函数可以不声明称explicit。例如作为其他类的透明包装器的类。</li>
<li>effective c++中说：被声明为explicit的构造函数通常比其non-explicit兄弟更受欢迎。因为它们禁止编译器执行非预期（往往也不被期望）的类型转换。除非我有一个好理由允许构造函数被用于隐式类型转换，否则我会把它声明为explicit，鼓励大家遵循相同的政策。</li>
</ol>
<h2 id="继承（inheritance）">继承（inheritance）</h2>
<ol>
<li>
<p>is-a：公有继承</p>
<p>子类、子类的对象可以访问基类的public成员。</p>
</li>
<li>
<p>has-a：</p>
<ul>
<li>
<p>保护继承</p>
<p>子类可以访问基类的public和protect方法，但子类的对象不能访问基类的public成员。</p>
</li>
<li>
<p>私有继承</p>
<p>子类、子类的对象不能访问基类的public成员。</p>
</li>
</ul>
</li>
<li>
<p>使用final禁止继承（C++11）</p>
</li>
</ol>
<h2 id="多态（polymorphism）">多态（polymorphism）</h2>
<h3 id="使用虚函数实现多态">使用虚函数实现多态</h3>
<ol>
<li>
<p>对于将被派生类覆盖的基类方法，务必将其声明为虚函数。</p>
</li>
<li>
<p><strong>对基类析构函数，务必提供一个虚析构函数。</strong></p>
</li>
</ol>
<h3 id="纯虚函数">纯虚函数</h3>
<ul>
<li>纯虚函数导致类变成抽象基类，且在派生类中必须提供虚函数的实现。</li>
<li>抽象基类无法被实例化。</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//抽象基类（ABC）</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AbstractBase</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">DoSomeThing</span><span class="params">()</span> </span>= <span class="number">0</span>; <span class="comment">//纯虚函数</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//上述声明告诉编译器，AbstractBase的派生类必须实现方法DoSomeThing()；</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Derived</span>: <span class="keyword">public</span> AbstractBase</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">DoSomeThing</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;Implemented virtual function&quot;</span>&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="虚继承">虚继承</h3>
<ol>
<li>
<p>如果派生类可能被用作基类，派生它 最好使用关键字virtual：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Derived1</span> : <span class="keyword">public</span> <span class="keyword">virtual</span> Base</span><br><span class="line">&#123;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Derived2</span> : <span class="keyword">public</span> <span class="keyword">virtual</span> Base</span><br><span class="line">&#123;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//并且使用关键字final禁止将SubDerived作为基类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SubDerived</span> <span class="keyword">final</span>: <span class="keyword">public</span> Derived1, <span class="keyword">public</span> Derived2</span><br><span class="line">&#123;</span><br><span class="line">    </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>在继承层次结构中，继承多个从同一个类派生而来的基类时，如果这些基类没有采用虚继承，将导致二义性。这种二义性被称为<strong>菱形问题</strong>（Diamond Problem）。</p>
</li>
</ol>
<h3 id="override-C-11">override(C++11)</h3>
<p>在派生类中声明要覆盖基类函数的函数时，务必使用override。</p>
<p>override提供了一种强大的途径，让程序员明确地表达对基类的虚函数进行覆盖的意图，进而让编译器做如下检查：</p>
<ul>
<li>基类函数是否是虚函数？</li>
<li>基类中相应虚函数的特征标识是否与派生类中被声明为override的函数完全相同？</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span> ｛</span><br><span class="line"><span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">f</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Derived</span> : <span class="keyword">public</span> Base &#123;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">()</span> <span class="keyword">override</span></span>; <span class="comment">// 表示派生类重写基类虚函数f</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">F</span><span class="params">()</span> <span class="keyword">override</span></span>;<span class="comment">//错误：函数F没有重写基类任何虚函数</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li>overide作用：在派生类中提醒自己要重写这个同参数函数，不写则报错。</li>
</ul>
<h2 id="运算符">运算符</h2>
<ol>
<li>理论上来说，前缀运算符优于后缀运算符。<code>++value优于value++</code>。</li>
<li>对于有原始指针的类，务必实现拷贝构造函数和重载赋值运算符。</li>
</ol>
<h3 id="运算符重载">运算符重载</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">return_type <span class="keyword">operator</span> <span class="title">operator_symbol</span><span class="params">(...parameter list...)</span></span></span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Box</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">double</span> length;  <span class="comment">//长度</span></span><br><span class="line">    <span class="type">double</span> width;   <span class="comment">//宽度</span></span><br><span class="line">    <span class="type">double</span> height;  <span class="comment">//高度</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Box</span>()&#123;&#125;</span><br><span class="line">    <span class="built_in">Box</span>(<span class="type">double</span> length,<span class="type">double</span> width, <span class="type">double</span> height):<span class="built_in">length</span>(length),<span class="built_in">width</span>(width),<span class="built_in">height</span>(height)&#123;&#125;</span><br><span class="line">    ~<span class="built_in">Box</span>()&#123;&#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(<span class="type">void</span>)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cout&lt;&lt;length&lt;&lt;<span class="string">&quot;,&quot;</span>&lt;&lt;width&lt;&lt;<span class="string">&quot;,&quot;</span>&lt;&lt;height&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//重载 + 运算符，  实现Box相加</span></span><br><span class="line">    Box <span class="keyword">operator</span> + (<span class="type">const</span> Box&amp; b)</span><br><span class="line">    &#123;</span><br><span class="line">        Box box;</span><br><span class="line">        box.length = <span class="keyword">this</span>-&gt;length + b.length;</span><br><span class="line">        box.width = <span class="keyword">this</span>-&gt;width + b.width;</span><br><span class="line">        box.height = <span class="keyword">this</span>-&gt;height + b.height;</span><br><span class="line">        <span class="keyword">return</span> box;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//重载前缀运算符 ++</span></span><br><span class="line">    Box <span class="keyword">operator</span> ++ ()</span><br><span class="line">    &#123;</span><br><span class="line">        ++<span class="keyword">this</span>-&gt;length;</span><br><span class="line">        ++<span class="keyword">this</span>-&gt;width;</span><br><span class="line">        ++<span class="keyword">this</span>-&gt;height;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//重载后缀运算符 --</span></span><br><span class="line">    <span class="comment">//注意，int 在 括号内是为了向编译器说明这是一个后缀形式，而不是表示整数。只是为了区分前置后置</span></span><br><span class="line">    Box <span class="keyword">operator</span> -- (<span class="type">int</span>)  <span class="comment">//加上int </span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//保存原始值</span></span><br><span class="line">        Box temp = *<span class="keyword">this</span>; <span class="comment">//隐式调用转换函数</span></span><br><span class="line">        <span class="comment">//Box temp(*this); //调用默认拷贝构造函数</span></span><br><span class="line">        <span class="comment">//Box temp(length,width,height);</span></span><br><span class="line">        --<span class="keyword">this</span>-&gt;length;</span><br><span class="line">        --<span class="keyword">this</span>-&gt;width;</span><br><span class="line">        --<span class="keyword">this</span>-&gt;height;</span><br><span class="line">        <span class="keyword">return</span> temp; <span class="comment">//返回原始值</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/*在这里，有一点很重要，我们需要把运算符重载函数声明为类的友元函数，这样我们就能不用创建对象而直接调用函数。习惯上人们是使用 cin&gt;&gt; 和 cout&lt;&lt; 的，得使用友元函数来重载运算符，如果使用成员函数来重载会出现 d1&lt;&lt;cout; 这种不自然的代码。</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="comment">//相当于在整个全局声明了一个重载运算符。当重载的运算符函数是全局函数时，需要在类中将该函数声明为友元</span></span><br><span class="line">    <span class="comment">//重载 &gt;&gt;</span></span><br><span class="line">    <span class="keyword">friend</span> istream&amp; <span class="keyword">operator</span> &gt;&gt; (istream&amp; input, Box&amp; b)</span><br><span class="line">    &#123;</span><br><span class="line">        input &gt;&gt; b.length &gt;&gt; b.width &gt;&gt; b.height;</span><br><span class="line">        <span class="keyword">return</span> input;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//重载 &lt;&lt;</span></span><br><span class="line">    <span class="keyword">friend</span> ostream&amp; <span class="keyword">operator</span> &lt;&lt; (ostream&amp; output,<span class="type">const</span> Box&amp; b)</span><br><span class="line">    &#123;</span><br><span class="line">        output&lt;&lt;b.length&lt;&lt;<span class="string">&quot;,&quot;</span>&lt;&lt;b.width&lt;&lt;<span class="string">&quot;,&quot;</span>&lt;&lt;b.height;</span><br><span class="line">        <span class="keyword">return</span> output;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Box <span class="title">box1</span><span class="params">(<span class="number">5.0</span>,<span class="number">6.0</span>,<span class="number">7.0</span>)</span></span>;</span><br><span class="line">    <span class="function">Box <span class="title">box2</span><span class="params">(<span class="number">8.0</span>,<span class="number">9.0</span>,<span class="number">10.0</span>)</span></span>;</span><br><span class="line">    Box box3 = box1 + box2;</span><br><span class="line">    box3.<span class="built_in">print</span>();  <span class="comment">//13,15,17</span></span><br><span class="line">    </span><br><span class="line">    Box ox4 = ++box3;</span><br><span class="line">    box4.<span class="built_in">print</span>(); <span class="comment">//14,16,18</span></span><br><span class="line">    </span><br><span class="line">    Box box5 = box3--;</span><br><span class="line">    box5.<span class="built_in">print</span>(); <span class="comment">//14,16,18</span></span><br><span class="line">    </span><br><span class="line">    box3.<span class="built_in">print</span>(); <span class="comment">//13,15,17</span></span><br><span class="line">    </span><br><span class="line">    Box box6;</span><br><span class="line">    cin &gt;&gt; box6;</span><br><span class="line">    cout &lt;&lt;box6&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="C-类型转换运算符">C++类型转换运算符</h2>
<p><code>destination_type result = cast_operator&lt;destination_type&gt; (object_to_cast)</code></p>
<h3 id="static-cast">static_cast</h3>
<ul>
<li>用于在相关类型的指针之间转换。</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Derived objDerived1 = <span class="keyword">new</span> <span class="built_in">Derived</span>();</span><br><span class="line">Base* objBase = &amp;objDerived1;  <span class="comment">//OK！向上转换，无需显式转换</span></span><br><span class="line"></span><br><span class="line">Derived* objDerived2 = objBase;<span class="comment">//Error! 向下转换，需要显式转换</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//OK!</span></span><br><span class="line">Derived* objDerived2 = <span class="keyword">static_cast</span>&lt;Derived*&gt;objBase; </span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//static_cast只验证指针类型是否相关，而不执行任何运行阶段的检查。</span></span><br><span class="line">Base* objBase = <span class="keyword">new</span> <span class="built_in">Base</span>();</span><br><span class="line">Derived* objDer = <span class="keyword">static_cast</span>&lt;Derived*&gt;objBase;<span class="comment">//Not Error！但有可能导致意外结果。</span></span><br></pre></td></tr></table></figure>
<ul>
<li>将原本隐式的标准数据类型的类型转换 转换为  显式。</li>
</ul>
<h3 id="dynamic-cast">dynamic_cast</h3>
<ul>
<li>
<p>与static_cast相反，dynamic_cast在运行阶段执行转换，可检查dynamic_cast操作的结果，以判断类型转换是否成功。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Base* objBase = <span class="keyword">new</span> <span class="built_in">Derived</span>();</span><br><span class="line"></span><br><span class="line">Derived* objDer = <span class="built_in">dynamic_cast</span>&lt;Derived*&gt;(objBase);</span><br><span class="line"></span><br><span class="line"><span class="comment">//务必检查dynamic_cast的返回值，看它是否有效。如果返回值为NULL，说明转换失败。</span></span><br><span class="line"><span class="keyword">if</span>(objDer)</span><br><span class="line">&#123;</span><br><span class="line">    objDer-&gt;<span class="built_in">CallDerivedFunction</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>这种在运行阶段识别对象类型的机制称为 <strong>运行阶段类型识别</strong>（runtime type identification, <strong>RTTI</strong>）</p>
</li>
</ul>
<h3 id="reinterpret-cast">reinterpret_cast</h3>
<ul>
<li>强制转换。</li>
<li>应尽量避免使用reinterpret_cast。</li>
</ul>
<h3 id="const-cast">const_cast</h3>
<ul>
<li>
<p>让程序员能够关闭对象的访问限制符const。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//DisplayMembers（）本应该为const的，但没有这样定义。并且类SomeClass属于第三方库，无法对其进行修改。</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">DisplayAllData</span><span class="params">(<span class="type">const</span> SomClass&amp; object)</span>  <span class="comment">//显然 这里使用const是应该的</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    object.<span class="built_in">DisplayMembers</span>();<span class="comment">//编译错误</span></span><br><span class="line">    <span class="comment">//原因：使用const引用调用non-const的成员。</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">DisplayAllData</span><span class="params">(<span class="type">const</span> SomClass&amp; object)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    SomeClass&amp; refData = <span class="built_in">const_cast</span>&lt;SomeClass&amp;&gt;(object);</span><br><span class="line">    object.<span class="built_in">DisplayMembers</span>();<span class="comment">//OK!</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>非必要不使用const_cast来调用非const函数。这样导致的结果不可预料！</p>
</li>
</ul>
<h3 id="除dynamic-cast外的类型转换都是可以避免的；应尽量避免使用类型转换。">除dynamic_cast外的类型转换都是可以避免的；应尽量避免使用类型转换。</h3>
<!--end: 2022.03.07-->
<!--start: 2022.03.09-->
<h2 id="宏">宏</h2>
<h3 id="使用-define定义常量">使用#define定义常量</h3>
<ul>
<li>预处理只是进行死板的文本替换，而不检查替换是否正确。</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> PI 3.1415926 <span class="comment">//再预处理器看来，无法确定其数据类型</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义常量时，更好的方法是使用const</span></span><br><span class="line"><span class="type">const</span> <span class="type">double</span> PI = <span class="number">3.1415926</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">double</span> MY_DOUBLE; <span class="comment">//#define MY_DOUBLE double</span></span><br></pre></td></tr></table></figure>
<h3 id="使用宏避免多次包含">使用宏避免多次包含</h3>
<ul>
<li>
<p>预处理器编译指令： <code>#ifndef</code>  <code>#endif</code></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> _HEAD_H_</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _HRAD_H_</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//head.h的内容</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span>   <span class="comment">//end of head.h</span></span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="使用-define编写宏函数">使用#define编写宏函数</h3>
<ul>
<li>注意使用括号保证优先级</li>
</ul>
<h3 id="使用assert宏验证表达式">使用assert宏验证表达式</h3>
<ul>
<li>需包含<code>#include&lt;assert.h&gt;</code>。</li>
<li>assert用来调试，对输入的参数进行验证。</li>
<li>assert()在发布模式下不可用。</li>
<li><strong>推荐在代码中大量使用assert()，虽然在发行版本被禁用，但对提高代码质量很有帮助。</strong></li>
</ul>
<h3 id="尽量不要自己编写宏函数；使用const常量而不是宏常量。宏不是类型安全的。">尽量不要自己编写宏函数；使用const常量而不是宏常量。宏不是类型安全的。</h3>
<h2 id="模板">模板</h2>
<ul>
<li>模板无疑是C++语言中最强大的特性之一。模板是类型安全的。</li>
<li>在编译器看来，仅当模板被使用时，其代码才存在。</li>
<li>对模板来说，实例化是指使用一个或多个模板参数来创建特定的类型。</li>
</ul>
<h3 id="模板声明-template">模板声明 template</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> objType&gt;</span><br></pre></td></tr></table></figure>
<h3 id="模板函数">模板函数</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">//模板函数</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> objType&gt;</span></span><br><span class="line"><span class="function"><span class="type">const</span> objType&amp; <span class="title">GetMax</span><span class="params">(<span class="type">const</span> objType&amp; value1, <span class="type">const</span> objType&amp; value2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> value1 &gt; value2 ? value1 : value2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> num1 = <span class="number">25</span>, num2 = <span class="number">40</span>;</span><br><span class="line">    <span class="comment">//int maxVal = GetMax&lt;int&gt;(num1,num2); //模板函数可以不显式指定类型，但模板类必须显式指定。</span></span><br><span class="line">    <span class="type">int</span> maxVal = <span class="built_in">GetMax</span>(num1,num2);</span><br><span class="line">    cout&lt;&lt;maxVal&lt;&lt;endl;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="模板类">模板类</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">//模板类</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T1, <span class="keyword">typename</span> T2 = T1&gt; <span class="comment">//T2的类型默认为T1</span></span><br><span class="line"><span class="comment">//template&lt;typename T1 = int, typename T2 = string&gt; //声明默认参数的模板</span></span><br><span class="line"><span class="keyword">class</span> MyTemplate</span><br><span class="line">&#123;</span><br><span class="line">    T1 member1;</span><br><span class="line">    T2 member2;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">MyTemplate</span>(<span class="type">const</span> T1&amp; t1, <span class="type">const</span> T2&amp; t2):<span class="built_in">member1</span>(t1),<span class="built_in">member2</span>(t2)&#123;&#125;</span><br><span class="line">    <span class="function"><span class="type">const</span> T1 <span class="title">getObj1</span><span class="params">()</span> <span class="type">const</span></span>&#123;<span class="keyword">return</span> member1;&#125;  <span class="comment">//返回值为const ; this指针为const</span></span><br><span class="line">    <span class="function">T2 <span class="title">getObj2</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> member2;&#125;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">MyTemplate&lt;<span class="type">int</span> ,<span class="type">double</span>&gt; <span class="title">temp1</span><span class="params">(<span class="number">10</span>,<span class="number">19.5</span>)</span></span>;</span><br><span class="line">    <span class="function">MyTemplate&lt;<span class="type">int</span> ,string&gt; <span class="title">temp2</span><span class="params">(<span class="number">10</span>,<span class="string">&quot;hello world!&quot;</span>)</span></span>;</span><br><span class="line">    cout&lt;&lt;temp1.<span class="built_in">getObj1</span>()&lt;&lt;endl;</span><br><span class="line">    cout&lt;&lt;temp2.<span class="built_in">getObj2</span>()&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="参数数量可变的模板-C-11">参数数量可变的模板(C++11)</h3>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/qicosmos/p/4325949.html">泛化之美–C++11可变模版参数的妙用 - qicosmos(江南) - 博客园 (cnblogs.com)</a></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这里class关键字表明T是一个类型，后来为了避免class在这两个地方的使用可能给人带来混淆，所以引入了typename这个关键字，它的作用同class一样表明后面的符号为一个类型</span></span><br><span class="line"><span class="comment">//template &lt;class... T&gt;   </span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span>... T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">(T... args)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">sizeof</span>...(args)  <span class="comment">//sizeof...()打印可变参的个数</span></span><br></pre></td></tr></table></figure>
<p>上面的可变模版参数的定义当中，<strong>省略号的作用</strong>有两个：</p>
<ol>
<li>声明一个<strong>参数包</strong>T… args，这个参数包中可以包含0到任意个模板参数；</li>
<li>在模板定义的右边，可以将参数包展开成一个一个独立的参数。</li>
</ol>
<p><strong>我们无法直接获取参数包args中的每个参数的，只能通过展开参数包的方式来获取参数包中的每个参数。</strong></p>
<p>展开可变模版参数函数的方法一般有两种：一种是<strong>通过递归函数来展开参数包</strong>，另外一种是<strong>通过逗号表达式来展开参数包</strong>。</p>
<ol>
<li>
<p><strong>递归函数方式展开参数包</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">//通过递归函数展开参数包，需要提供一个参数包展开的函数和一个重载的递归终止函数，递归终止函数正是用来终止递归的。</span></span><br><span class="line"><span class="comment">//递归终止函数</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(T head)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   cout &lt;&lt; <span class="string">&quot;parameter &quot;</span> &lt;&lt; head &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//展开函数</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> ...Args&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(T head, Args... rest)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   cout &lt;&lt; <span class="string">&quot;parameter &quot;</span> &lt;&lt; head &lt;&lt; endl;</span><br><span class="line">   <span class="built_in">print</span>(rest...);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="built_in">print</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>);</span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li>
<p><strong>逗号表达式展开参数包</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">//这种方式需要借助逗号表达式和初始化列表</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printarg</span><span class="params">(T t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   cout &lt;&lt; t &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> ...Args&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">expand</span><span class="params">(Args... args)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="type">int</span> arr[] = &#123;(<span class="built_in">printarg</span>(args), <span class="number">0</span>)...&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="built_in">expand</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>);</span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="static-assert-C-11">static_assert(C++11)</h3>
<ol>
<li>
<p>执行编译阶段断言：禁止不希望的模板实例化。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//禁止针对int实例化模板</span></span><br><span class="line"><span class="built_in">static_assert</span>(<span class="built_in">sizeof</span>(T) != <span class="built_in">sizeof</span>(<span class="type">int</span>),<span class="string">&quot;No in please!&quot;</span>);  <span class="comment">//不满足条件禁止编译</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="标准模板库">标准模板库</h2>
<h3 id="STL容器">STL容器</h3>
<p>容器是用于存储数据的STL类。</p>
<h4 id="顺序容器">顺序容器</h4>
<p>顾名思义，顺序容器按顺序存储数据，如数组和列表。插入速度快，查找满。</p>
<ul>
<li><code>std::vector</code>：常规动态数组。</li>
<li><code>std::deque</code>：动态数组，但允许在开头插入或删除。</li>
<li><code>std::list</code>：双向链表。</li>
<li><code>std::forward_list</code>：单向链表。</li>
</ul>
<h4 id="关联容器">关联容器</h4>
<p>按指定的顺序存储数据。插入慢，查找快。</p>
<ul>
<li><code>std::set</code>：集合</li>
<li><code>std::unordered_set</code>：</li>
<li><code>std::map</code>：键-值对。</li>
<li><code>std::unordered_map</code>：</li>
<li><code>std::multiset</code>：类似set，不要求值唯一的，可存储多个值相同的项。</li>
<li><code>std::unordered_multiset</code>：</li>
<li><code>std::multimap</code>：类似map，不要求键是唯一的。</li>
<li><code>std::unordered_multimap</code>：</li>
</ul>
<h4 id="容器适配器（Container-Adapter）">容器适配器（Container Adapter）</h4>
<ul>
<li><code>std::stack</code>：栈</li>
<li><code>std::queue</code>：队列</li>
<li><code>std::priority_queue</code>：</li>
</ul>
<h3 id="STL迭代器">STL迭代器</h3>
<h3 id="STL算法">STL算法</h3>
<h3 id="STL字符串类">STL字符串类</h3>
<ul>
<li><code>std::string</code>：简单字符串</li>
<li><code>std::wstring</code>：宽字符串</li>
</ul>
<!--end: 2022.03.09-->
<!--start: 2022.03.10-->
<h2 id="STL-string类">STL string类</h2>
<ul>
<li>#include<string></li>
<li>std::string 具体化的是std::basic_string模板类</li>
</ul>
<h3 id="实例化string">实例化string</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(<span class="type">const</span> string&amp; str,<span class="type">const</span> string&amp; s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout&lt;&lt;s&lt;&lt;<span class="string">&quot;: &quot;</span>&lt;&lt;str&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string str0;        <span class="comment">//生成空字符串str</span></span><br><span class="line">    string str1 = <span class="string">&quot;Hello String!&quot;</span>;</span><br><span class="line">    <span class="type">const</span> <span class="type">char</span>* Cstr = <span class="string">&quot;Hello Char*&quot;</span>;</span><br><span class="line">    <span class="function">string <span class="title">str2</span><span class="params">(str1,<span class="number">6</span>)</span></span>;  <span class="comment">//从&quot;索引为5&quot;的位置开始拷贝</span></span><br><span class="line">    <span class="function">string <span class="title">str3</span><span class="params">(Cstr,<span class="number">5</span>)</span></span>;  <span class="comment">//将C字符串前5个字符作为字符串s的初值。</span></span><br><span class="line">	<span class="function">string <span class="title">str4</span><span class="params">(<span class="string">&quot;Hello String!&quot;</span>,<span class="number">5</span>)</span></span>;</span><br><span class="line">    <span class="function">string <span class="title">str5</span><span class="params">(<span class="number">10</span>,<span class="string">&#x27;a&#x27;</span>)</span></span>;  <span class="comment">//生成一个字符串，包含n个c字符</span></span><br><span class="line">    <span class="function">string <span class="title">str6</span><span class="params">(str1,<span class="number">0</span>,<span class="number">5</span>)</span></span>;<span class="comment">//将字符串str内“始于index且长度顶多n”的部分作为字符串的初值</span></span><br><span class="line">    <span class="function">string <span class="title">str7</span><span class="params">(str5.begin(),str5.begin()+<span class="number">5</span>)</span></span>;</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">print</span>(str0,<span class="string">&quot;str0&quot;</span>);</span><br><span class="line">    <span class="built_in">print</span>(str1,<span class="string">&quot;str1&quot;</span>);</span><br><span class="line">    <span class="built_in">print</span>(str2,<span class="string">&quot;str2&quot;</span>);</span><br><span class="line">    <span class="built_in">print</span>(str3,<span class="string">&quot;str3&quot;</span>);</span><br><span class="line">    <span class="built_in">print</span>(str4,<span class="string">&quot;str4&quot;</span>);</span><br><span class="line">    <span class="built_in">print</span>(str5,<span class="string">&quot;str5&quot;</span>);</span><br><span class="line">	<span class="built_in">print</span>(str6,<span class="string">&quot;str6&quot;</span>);</span><br><span class="line">    <span class="built_in">print</span>(str7,<span class="string">&quot;str7&quot;</span>);</span><br><span class="line">    </span><br><span class="line">	<span class="comment">/*输出</span></span><br><span class="line"><span class="comment">	str0: </span></span><br><span class="line"><span class="comment">	str1: Hello String!</span></span><br><span class="line"><span class="comment">	str2: String!</span></span><br><span class="line"><span class="comment">	str3: Hello</span></span><br><span class="line"><span class="comment">	str4: Hello</span></span><br><span class="line"><span class="comment">	str5: aaaaaaaaaa</span></span><br><span class="line"><span class="comment">	str6: Hello</span></span><br><span class="line"><span class="comment">	str7: aaaaa</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="string增删改查">string增删改查</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">//遍历获取元素</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//size(),length()  //返回字符数量</span></span><br><span class="line">    <span class="function">string <span class="title">str</span><span class="params">(<span class="string">&quot;hello world!&quot;</span>)</span></span>;</span><br><span class="line">    <span class="comment">//size_t 作为unsigned int 和unsigned long 的别名,编译器根据不同的系统类型替换标准类型,旨在增强移植性</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">size_t</span> i = <span class="number">0</span>; i &lt; str.<span class="built_in">length</span>(); ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;str[&quot;</span>&lt;&lt;i&lt;&lt;<span class="string">&quot;]: &quot;</span>&lt;&lt;str[i]&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//逆序迭代器方式</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> t = str.<span class="built_in">rbegin</span>(); t != str.<span class="built_in">rend</span>(); ++t)</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;*t&lt;&lt;<span class="string">&quot;,&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">    </span><br><span class="line">    cout&lt;&lt;str.<span class="built_in">c_str</span>()&lt;&lt;endl;<span class="comment">//将内容以C_string返回</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//拼接字符串</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">append</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//+=,append()</span></span><br><span class="line">    <span class="comment">//push_back() //在尾部添加字符</span></span><br><span class="line">    <span class="function">string <span class="title">str1</span><span class="params">(<span class="string">&quot;Hello World!&quot;</span>)</span></span>;</span><br><span class="line">    <span class="function">string <span class="title">str2</span><span class="params">(<span class="string">&quot;Hello Programer!&quot;</span>)</span></span>;</span><br><span class="line">    </span><br><span class="line">    str1 += str2;  <span class="comment">//+=</span></span><br><span class="line">    cout&lt;&lt;<span class="string">&quot; str1 += str2, str1: &quot;</span>&lt;&lt;str1&lt;&lt;endl; </span><br><span class="line">    </span><br><span class="line">    str1.<span class="built_in">append</span>(str2); <span class="comment">//append()</span></span><br><span class="line">    cout&lt;&lt;<span class="string">&quot; str1.append(str2)2, str1: &quot;</span>&lt;&lt;str1&lt;&lt;endl;</span><br><span class="line">    </span><br><span class="line">    str2.<span class="built_in">push_back</span>(<span class="string">&#x27;?&#x27;</span>);</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot; str2.push_back(&#x27;?&#x27;), str2: &quot;</span>&lt;&lt;str2&lt;&lt;endl;  <span class="comment">//push_back()在末尾添加字符</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//查找字符(串)</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">find</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">string <span class="title">s</span><span class="params">(<span class="string">&quot;dog bird chicken bird cat&quot;</span>)</span></span>;</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt;	s.<span class="built_in">find</span>(<span class="string">&quot;bird&quot;</span>) &lt;&lt; endl;  <span class="comment">//查找子串s,返回找到的位置索引，</span></span><br><span class="line">	cout &lt;&lt; (<span class="type">int</span>)s.<span class="built_in">find</span>(<span class="string">&quot;pig&quot;</span>) &lt;&lt; endl;   <span class="comment">//-1表示查找不到子串</span></span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; s.<span class="built_in">rfind</span>(<span class="string">&quot;bird&quot;</span>) &lt;&lt; endl; <span class="comment">//反向查找子串s，返回找到的位置索引，</span></span><br><span class="line">	cout &lt;&lt; s.<span class="built_in">rfind</span>(<span class="string">&#x27;i&#x27;</span>) &lt;&lt; endl;    </span><br><span class="line"></span><br><span class="line">	cout &lt;&lt; s.<span class="built_in">find_first_of</span>(<span class="string">&quot;13r98&quot;</span>) &lt;&lt; endl; <span class="comment">//查找第个属于某子串的字符</span></span><br><span class="line">	cout &lt;&lt; s.<span class="built_in">find_first_not_of</span>(<span class="string">&quot;dog bird 2006&quot;</span>) &lt;&lt; endl;<span class="comment">//查找第一个不属于某字符串的字符</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//删除</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">erase</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">string <span class="title">s</span><span class="params">(<span class="string">&quot;123456789abcd!&quot;</span>)</span></span>;</span><br><span class="line">    <span class="comment">//iterator erase(iterator p);//删除字符串中p所指的字符</span></span><br><span class="line">    s.<span class="built_in">erase</span>(s.<span class="built_in">begin</span>());</span><br><span class="line">    cout &lt;&lt; s &lt;&lt; endl;  <span class="comment">//out: 23456789abcd!</span></span><br><span class="line">    <span class="comment">//iterator erase(iterator first, iterator last);//删除字符串中迭代器区间[first,last)上所有字符</span></span><br><span class="line">    s.<span class="built_in">erase</span>(s.<span class="built_in">begin</span>()+<span class="number">2</span>,s.<span class="built_in">begin</span>()+<span class="number">3</span>);</span><br><span class="line">    cout &lt;&lt; s &lt;&lt; endl; <span class="comment">//out: 2356789abcd!</span></span><br><span class="line">    <span class="comment">//string&amp; erase(size_t pos = 0, size_t len = npos);//删除字符串中从索引位置pos开始的len个字符</span></span><br><span class="line">    s.<span class="built_in">erase</span>(<span class="number">0</span>,<span class="number">2</span>);</span><br><span class="line">    cout &lt;&lt; s &lt;&lt; endl; <span class="comment">//out: 56789abcd!</span></span><br><span class="line">    <span class="comment">//void clear();//删除字符串中所有字符</span></span><br><span class="line">    s.<span class="built_in">clear</span>();</span><br><span class="line">    cout &lt;&lt; s &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//比较</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">compare</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">string <span class="title">s1</span><span class="params">(<span class="string">&quot;abcdef&quot;</span>)</span>, <span class="title">s2</span><span class="params">(<span class="string">&quot;abc&quot;</span>)</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//相等返回0，大于返回 正数，小于返回  负数</span></span><br><span class="line">    cout &lt;&lt; s1.<span class="built_in">compare</span>(<span class="string">&quot;abcdef&quot;</span>) &lt;&lt; endl;  <span class="comment">//相等,打印0</span></span><br><span class="line">	cout &lt;&lt; s1.<span class="built_in">compare</span>(s2) &lt;&lt; endl;   <span class="comment">//s1 &gt; s2,打印 &gt;0</span></span><br><span class="line">	cout &lt;&lt; s1.<span class="built_in">compare</span>(<span class="string">&quot;abyz&quot;</span>) &lt;&lt; endl; <span class="comment">//s1 &lt; &quot;abyz&quot;,打印 &lt;0</span></span><br><span class="line">	cout &lt;&lt; s1.<span class="built_in">compare</span>(<span class="number">0</span>,<span class="number">3</span>,s2) &lt;&lt; endl; <span class="comment">//s1的前3个字符**s2,打印0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//反转算法</span></span><br><span class="line"><span class="comment">//需要 头文件是#include &lt;algorithm&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">reverse</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">string <span class="title">str</span><span class="params">(<span class="string">&quot;hello string!&quot;</span>)</span></span>;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;str: &quot;</span>&lt;&lt;str&lt;&lt;endl;</span><br><span class="line">    <span class="built_in">reverse</span>(str.<span class="built_in">begin</span>(),str.<span class="built_in">end</span>());</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;reverse str: &quot;</span>&lt;&lt;str&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//display();</span></span><br><span class="line">    <span class="comment">//append();</span></span><br><span class="line">    <span class="comment">//erase();</span></span><br><span class="line">    <span class="built_in">find</span>();</span><br><span class="line">    <span class="built_in">compare</span>();</span><br><span class="line">    <span class="built_in">reverse</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="STL-vector类">STL vector类</h2>
<ul>
<li>需包含头文件<code>#include &lt;vector&gt;</code></li>
</ul>
<h3 id="实例化vector">实例化vector</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; intArray;  <span class="comment">//默认构造</span></span><br><span class="line">    </span><br><span class="line">    vector&lt;<span class="type">float</span>&gt; floatArray&#123;<span class="number">20.4</span>, <span class="number">15.9</span>&#125;; <span class="comment">//初始化两个元素的值</span></span><br><span class="line">    </span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">intArray2</span><span class="params">(<span class="number">10</span>)</span></span>; <span class="comment">//初始化包含10个元素</span></span><br><span class="line">    </span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">intArray3</span><span class="params">(<span class="number">10</span>, <span class="number">1</span>)</span></span>;<span class="comment">//初始化包含10个元素,且值都为1</span></span><br><span class="line">    </span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">intArray4</span><span class="params">(intArray3)</span></span>; <span class="comment">//使用一个实例初始化</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="vector增删改查">vector增删改查</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">//遍历</span></span><br><span class="line"><span class="function"><span class="type">void</span>  <span class="title">traverse</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; temp&#123;<span class="number">10</span>,<span class="number">12</span>,<span class="number">14</span>,<span class="number">16</span>&#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> t : temp)</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;t&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">    </span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;temp[3]: &quot;</span>&lt;&lt;temp[<span class="number">3</span>]&lt;&lt;endl; <span class="comment">//注意 索引不能越界</span></span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;temp[2]: &quot;</span>&lt;&lt;temp.<span class="built_in">at</span>(<span class="number">2</span>)&lt;&lt;endl; <span class="comment">//at()在运行阶段执行检查  更安全</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span>  <span class="title">traverse</span><span class="params">(<span class="type">const</span> vector&lt;<span class="type">int</span>&gt;&amp; temp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;size = &quot;</span>&lt;&lt;temp.<span class="built_in">size</span>()&lt;&lt;<span class="string">&quot;: &quot;</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> t : temp)</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;t&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//插入、删除</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; integers;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//push_back()在末尾添加元素,首选</span></span><br><span class="line">    integers.<span class="built_in">push_back</span>(<span class="number">1</span>);</span><br><span class="line">    integers.<span class="built_in">push_back</span>(<span class="number">2</span>);</span><br><span class="line">    <span class="built_in">traverse</span>(integers);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//insert()在指定位置插入元素,效率低</span></span><br><span class="line">    integers.<span class="built_in">insert</span>(integers.<span class="built_in">begin</span>()+<span class="number">1</span>, <span class="number">25</span>); <span class="comment">//在第一个元素后面插入25</span></span><br><span class="line">    integers.<span class="built_in">insert</span>(integers.<span class="built_in">end</span>(),<span class="number">2</span>,<span class="number">45</span>);  <span class="comment">//在数组末尾插入2个元素,值都为45</span></span><br><span class="line">    <span class="built_in">traverse</span>(integers);</span><br><span class="line">    </span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; temp = &#123;<span class="number">15</span>,<span class="number">16</span>&#125;;</span><br><span class="line">    integers.<span class="built_in">insert</span>(integers.<span class="built_in">begin</span>(), temp.<span class="built_in">begin</span>(), temp.<span class="built_in">end</span>());<span class="comment">//插入temp的值到数组开头</span></span><br><span class="line">    <span class="built_in">traverse</span>(integers);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//pop_back()从末尾删除元素</span></span><br><span class="line">    integers.<span class="built_in">pop_back</span>();</span><br><span class="line">    <span class="built_in">traverse</span>(integers);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//清空元素</span></span><br><span class="line">    integers.<span class="built_in">clear</span>();</span><br><span class="line">    <span class="built_in">traverse</span>(integers);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//判空</span></span><br><span class="line">    <span class="keyword">if</span>(integers.<span class="built_in">empty</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;The container is now empty!&quot;</span>&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">traverse</span>();</span><br><span class="line">    <span class="built_in">insert</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>size()：实际存储的元素数；capacity()：总的容量。  数组的大小 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>&lt;</mo><mo>=</mo></mrow><annotation encoding="application/x-tex">&lt;=</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;=</span></span></span></span> 容量。（如果数组进行了插入，vector需要重新分配内部缓冲区，<strong>重新分配的逻辑实现是智能的：提前分配更多的容量</strong>）。</li>
<li>重新分配内部缓冲区时，需要复制容器中包含的对象，这可能降低性能。</li>
</ul>
<h3 id="STL-deque类">STL deque类</h3>
<ul>
<li>需包含<code>#include &lt;deque&gt;</code></li>
<li>具有vector的所有性质。</li>
<li>使用<code>push_front</code>和<code>pop_front</code>在开头插入/删除元素。</li>
</ul>
<h2 id="STL-list类">STL list类</h2>
<ul>
<li>需包含<code>#include&lt;list&gt;</code>。</li>
<li>双向链表。</li>
<li>迭代器可以<code>++</code>或者<code>--</code>。</li>
<li>虽然STL提供了sort()和remove()两种算法，但是list也提供了这两种算法。这些算法的成员函数版本<strong>确保元素的相对位置发生变化后指向元素的迭代器仍然有效。</strong></li>
</ul>
<h3 id="实例化list">实例化list</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    list&lt;<span class="type">int</span>&gt; linkInts0;   <span class="comment">//初始化空链表</span></span><br><span class="line">    </span><br><span class="line">    <span class="function">list&lt;<span class="type">int</span>&gt; <span class="title">linkInts1</span><span class="params">(<span class="number">10</span>)</span></span>; <span class="comment">//初始化包含10个元素的list</span></span><br><span class="line">    </span><br><span class="line">    <span class="function">list&lt;<span class="type">int</span>&gt; <span class="title">linkInts2</span><span class="params">(<span class="number">10</span>,<span class="number">99</span>)</span></span>;<span class="comment">//包含10个元素，均为99</span></span><br><span class="line">    </span><br><span class="line">    <span class="function">list&lt;<span class="type">int</span>&gt; <span class="title">linkInts3</span><span class="params">(linkInts2)</span></span>;<span class="comment">//复制构造</span></span><br><span class="line">    </span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">vecInts</span><span class="params">(<span class="number">10</span>,<span class="number">200</span>)</span></span>;</span><br><span class="line">    <span class="function">list&lt;<span class="type">int</span>&gt; <span class="title">linkInts4</span><span class="params">(vecInts.begin(),vecInts.end())</span></span>;<span class="comment">//从vector对象中复制</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="list增删改查">list增删改查</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//遍历</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">(<span class="type">const</span> T&amp; container)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> element = container.<span class="built_in">cbegin</span>(); element != container.<span class="built_in">cend</span>(); ++element)</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;*element&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//插入</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    list&lt;<span class="type">int</span>&gt; listInts;</span><br><span class="line">    </span><br><span class="line">    listInts.<span class="built_in">push_back</span>(<span class="number">10</span>);</span><br><span class="line">    listInts.<span class="built_in">push_back</span>(<span class="number">20</span>);</span><br><span class="line">    listInts.<span class="built_in">push_front</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">display</span>(listInts);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//iterator insert(iterator pos, const T&amp; x)</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    既然是链表，其迭代器就无法进行加减运算，但可以自增自减</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="comment">//listInts.insert(listInts.begin()+1, 5);// error: no match for ‘operator+’ (operand types are ‘std::_Fwd_list_iterator&lt;int&gt;’ and ‘int’)</span></span><br><span class="line">    listInts.<span class="built_in">insert</span>(++listInts.<span class="built_in">begin</span>(), <span class="number">5</span>); <span class="comment">//(插入位置，值)</span></span><br><span class="line">    <span class="built_in">display</span>(listInts);</span><br><span class="line">    <span class="comment">//void insert(iterator pos, sizer_type n, const T&amp; x)</span></span><br><span class="line">    listInts.<span class="built_in">insert</span>(listInts.<span class="built_in">end</span>(), <span class="number">2</span>, <span class="number">0</span>); <span class="comment">//(插入位置，插入个数，值)</span></span><br><span class="line">    <span class="built_in">display</span>(listInts);</span><br><span class="line">    <span class="comment">/*template&lt;class InputIterator&gt;</span></span><br><span class="line"><span class="comment">     void insert(iterator pos, InputIterator f, InputIterator l);</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    list&lt;<span class="type">int</span>&gt; listInts1;</span><br><span class="line">    listInts1.<span class="built_in">insert</span>(listInts1.<span class="built_in">begin</span>(), listInts.<span class="built_in">begin</span>(), listInts.<span class="built_in">end</span>());</span><br><span class="line">    <span class="built_in">display</span>(listInts1);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//删除</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">erase</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    list&lt;<span class="type">int</span>&gt; listInts&#123;<span class="number">0</span>,<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>&#125;;</span><br><span class="line">    </span><br><span class="line">    listInts.<span class="built_in">erase</span>(listInts.<span class="built_in">begin</span>()); <span class="comment">//删除</span></span><br><span class="line">    <span class="built_in">display</span>(listInts);</span><br><span class="line">    </span><br><span class="line">    listInts.<span class="built_in">clear</span>(); <span class="comment">//清空</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//反转、排序</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">Sort_Desc</span><span class="params">(<span class="type">const</span> <span class="type">int</span>&amp; t1, <span class="type">const</span> <span class="type">int</span>&amp; t2)</span>  <span class="comment">//二元谓词，告诉sort如何解释小于。</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> (t1 &gt; t2); </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">sort</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    list&lt;<span class="type">int</span>&gt; listInts&#123;<span class="number">-20</span>,<span class="number">20</span>,<span class="number">10</span>,<span class="number">100</span>,<span class="number">40</span>&#125;;</span><br><span class="line">    <span class="comment">//反转</span></span><br><span class="line">    listInts.<span class="built_in">reverse</span>();</span><br><span class="line">    <span class="built_in">display</span>(listInts);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//排序</span></span><br><span class="line">    <span class="comment">//默认排序</span></span><br><span class="line">    listInts.<span class="built_in">sort</span>();</span><br><span class="line">    <span class="built_in">display</span>(listInts);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//高级排序</span></span><br><span class="line">    listInts.<span class="built_in">sort</span>(Sort_Desc);  <span class="comment">//降序</span></span><br><span class="line">    <span class="built_in">display</span>(listInts);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">sort</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>对包含对象的list进行排序
<ul>
<li>在list包含的对象所属类中，实现运算符&lt;；</li>
<li>提供一个排序二元谓词。</li>
</ul>
</li>
</ul>
<h3 id="STL-forward-list-C-11">STL forward_list(C++11)</h3>
<ul>
<li>单向链表</li>
<li>与list类似</li>
<li>插入元素不能使用<code>push_back</code>；而只能使用<code>push_front</code>。</li>
<li>对迭代器只能使用<code>++</code>，不能使用<code>--</code>。</li>
<li>相比list，占用的内存稍少，因为只需指向下一个元素，而无需指向上一个元素。</li>
</ul>
<!--end: 2022.03.10-->
<!--start: 2022.03.11-->
<h2 id="STL-集合类">STL 集合类</h2>
<h3 id="set和multiset">set和multiset</h3>
<ul>
<li>set存储唯一值，multiset可存储重复值。</li>
<li>需包含头文件<code>#include&lt;set&gt;</code>。</li>
<li>插入时就对元素进行排序（默认升序）。</li>
<li><font color=#ff0000>对频繁需要查找的应用程序来说，set和multiset很有优势。因为其内容是经过排序的（当然，插入时进行排序是需要额外开销的），查找速度更快。</font>时间复杂度为$ log(n)$。</li>
<li><strong>如果用set等容器来存储自定义类的对象，务必要实现运算符<code>&lt;</code>（排序谓词）和<code>**</code>（用于<code>std::find()</code>函数）。</strong></li>
</ul>
<h4 id="实例化">实例化</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建二元排序谓词，可在类中定义一个operator()</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line">struce SortDescending   <span class="comment">//降序</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">const</span> T&amp; t1, <span class="type">const</span> T&amp; t2)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (t1 &gt; t2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    set&lt;<span class="type">int</span>&gt; setInts1;</span><br><span class="line">    multiset&lt;<span class="type">int</span>&gt; multisetInts1&#123;<span class="number">10</span>,<span class="number">20</span>&#125;; <span class="comment">//使用默认的排序谓词：std::less&lt;T&gt;</span></span><br><span class="line">    multiset&lt;<span class="type">int</span>, less&lt;<span class="type">int</span>&gt;&gt; multisetInts2&#123;<span class="number">30</span>,<span class="number">10</span>,<span class="number">20</span>&#125;; <span class="comment">//升序：std::less&lt;T&gt;</span></span><br><span class="line">     multiset&lt;<span class="type">int</span>, greater&lt;<span class="type">int</span>&gt;&gt; multisetInts2&#123;<span class="number">30</span>,<span class="number">10</span>,<span class="number">20</span>&#125;; <span class="comment">//降序：std::greater&lt;T&gt;</span></span><br><span class="line">    set&lt;<span class="type">int</span>&gt;::const_iterator element1;</span><br><span class="line">    multiset&lt;<span class="type">int</span>&gt;::iterator element2;</span><br><span class="line">    </span><br><span class="line">    set&lt;<span class="type">int</span>, SortDescending&lt;<span class="type">int</span>&gt;&gt; setInts2;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="增删查">增删查</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;set&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">(<span class="type">const</span> T&amp; temp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> element = temp.<span class="built_in">cbegin</span>(); element != temp.<span class="built_in">cend</span>(); ++element)</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;*element&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//插入</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    set&lt;<span class="type">int</span>&gt; setInts&#123;<span class="number">100</span>,<span class="number">10</span>,<span class="number">20</span>,<span class="number">-20</span>&#125;;</span><br><span class="line">    multiset&lt;<span class="type">int</span>&gt; multisetInts&#123;<span class="number">100</span>,<span class="number">10</span>,<span class="number">20</span>,<span class="number">-20</span>&#125;;</span><br><span class="line">    <span class="built_in">display</span>(setInts);</span><br><span class="line">    <span class="built_in">display</span>(multisetInts);</span><br><span class="line">    </span><br><span class="line">    setInts.<span class="built_in">insert</span>(<span class="number">50</span>);</span><br><span class="line">    setInts.<span class="built_in">insert</span>(<span class="number">50</span>);</span><br><span class="line">    multisetInts.<span class="built_in">insert</span>(<span class="number">50</span>);</span><br><span class="line">    multisetInts.<span class="built_in">insert</span>(<span class="number">50</span>);</span><br><span class="line">    <span class="built_in">display</span>(setInts);</span><br><span class="line">    <span class="built_in">display</span>(multisetInts);</span><br><span class="line">    <span class="comment">//multisetInts.count(x)返回存储了值为x的元素个数</span></span><br><span class="line">    cout&lt;&lt;multisetInts.<span class="built_in">count</span>(<span class="number">50</span>)&lt;&lt;endl;</span><br><span class="line">    <span class="comment">/*输出</span></span><br><span class="line"><span class="comment">    -20 10 20 100 </span></span><br><span class="line"><span class="comment">	-20 10 20 100 </span></span><br><span class="line"><span class="comment">	-20 10 20 50 100 </span></span><br><span class="line"><span class="comment">	-20 10 20 50 50 100 </span></span><br><span class="line"><span class="comment">	2</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//查找</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">find</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    set&lt;string&gt; setInts&#123;<span class="string">&quot;100a&quot;</span>,<span class="string">&quot;10a&quot;</span>,<span class="string">&quot;20a&quot;</span>,<span class="string">&quot;-20a&quot;</span>&#125;;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">auto</span> elementFound = setInts.<span class="built_in">find</span>(<span class="string">&quot;-20a&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(elementFound != setInts.<span class="built_in">cend</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;*elementFound&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">		cout&lt;&lt;<span class="string">&quot;Not Found&quot;</span>&lt;&lt;endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">erase</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    multiset&lt;<span class="type">int</span>, greater&lt;<span class="type">int</span>&gt;&gt; multisetInts&#123;<span class="number">43</span>,<span class="number">75</span>,<span class="number">75</span>,<span class="number">12</span>,<span class="number">-18</span>&#125;;  <span class="comment">//std::greater&lt;T&gt;降序排列的二元谓词</span></span><br><span class="line">    <span class="built_in">display</span>(multisetInts);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//根据值来删除</span></span><br><span class="line">    multisetInts.<span class="built_in">erase</span>(<span class="number">75</span>);  <span class="comment">//删除值为78的所有元素</span></span><br><span class="line">    <span class="built_in">display</span>(multisetInts);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//根据迭代器来删除</span></span><br><span class="line">    <span class="keyword">auto</span> elementFound = multisetInts.<span class="built_in">find</span>(<span class="number">43</span>);</span><br><span class="line">    <span class="keyword">if</span>(elementFound != multisetInts.<span class="built_in">cend</span>())</span><br><span class="line">    &#123;</span><br><span class="line">         multisetInts.<span class="built_in">erase</span>(elementFound);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">display</span>(multisetInts);</span><br><span class="line">    </span><br><span class="line">    multisetInts.<span class="built_in">clear</span>();<span class="comment">//清空</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//set不能进行修改值</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">erase</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="unordered-set和unordered-multiset-C-11">unordered_set和unordered_multiset(C++11)</h3>
<ul>
<li>
<p>需包含头文件<code>#include &lt;unordered_set&gt;</code>。</p>
</li>
<li>
<p>基于散列的<code>set</code>。因此基本操作相同。</p>
</li>
<li>
<p><code>unordered_set</code>的一个重要特征是：<font color =#000fff >有一个负责确定排序顺序的散列函数。</font></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">unordered_set&lt;<span class="type">int</span>&gt; usetInt;</span><br><span class="line">unordered_set&lt;<span class="type">int</span>&gt;::hasher HFn = usetInt.<span class="built_in">hash_function</span>();</span><br></pre></td></tr></table></figure>
</li>
<li>
<p><font color=#000fff>要决定选择使用<code>std::unordered_set</code>还是<code>std::set</code>，最好是在模拟环境中测试这两种容器的性能。</font></p>
</li>
</ul>
<h2 id="STL-映射类">STL 映射类</h2>
<h3 id="map和multimap">map和multimap</h3>
<ul>
<li>键值对容器。</li>
<li>需包含头文件<code>#include &lt;map&gt;</code>。</li>
<li><code>map</code>键值唯一，<code>multimap</code>键值可重复。</li>
<li>内部结构类似二叉树，在插入时排序，不能修改元素。</li>
<li>multimap 不支持下标运算符，因为键并不能确定一个唯一元素。</li>
</ul>
<h4 id="实例化-2">实例化</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">map&lt;keyType, valueType, Predicate = std::less&lt;keyType&gt;&gt; mapObj;  <span class="comment">//默认升序</span></span><br><span class="line">multimap&lt;keyType, valueType, Predicate = std::less&lt;keyType&gt;&gt; multimapObj;</span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    map&lt;<span class="type">int</span>, string&gt; map1;</span><br><span class="line">    <span class="function">map&lt;<span class="type">int</span>, string&gt; <span class="title">map2</span><span class="params">(map1)</span></span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="增删查-2">增删查</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">(<span class="type">const</span> T&amp; temp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> element = temp.<span class="built_in">cbegin</span>(); element != temp.<span class="built_in">cend</span>(); ++element)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//first: 表示键  second: 表示值</span></span><br><span class="line">        cout&lt;&lt;element-&gt;first&lt;&lt;<span class="string">&quot;-&gt;&quot;</span>&lt;&lt;element-&gt;second&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//插入</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">map&lt;<span class="type">int</span>, string&gt; <span class="title">map1</span><span class="params">(&#123;&#123;<span class="number">0</span>,<span class="string">&quot;zero&quot;</span>&#125;&#125;)</span></span>;</span><br><span class="line">    </span><br><span class="line">    map1.<span class="built_in">insert</span>(<span class="built_in">make_pair</span>(<span class="number">1</span>,<span class="string">&quot;First&quot;</span>)); <span class="comment">//使用make_pair()</span></span><br><span class="line">    <span class="built_in">display</span>(map1);</span><br><span class="line">    map1.<span class="built_in">insert</span>(<span class="built_in">pair</span>&lt;<span class="type">int</span>, string&gt;(<span class="number">2</span>, <span class="string">&quot;Second&quot;</span>));  <span class="comment">//使用std::pair</span></span><br><span class="line">    <span class="built_in">display</span>(map1);</span><br><span class="line">    </span><br><span class="line">    map1[<span class="number">10</span>] = <span class="string">&quot;Ten&quot;</span>; <span class="comment">//使用数组语法：[]里面的是键。不同于map，multimap不能使用中括号[]法插入</span></span><br><span class="line">    <span class="built_in">display</span>(map1);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//上述方式同样适用multimap</span></span><br><span class="line">    <span class="function">multimap&lt;<span class="type">int</span>, string&gt; <span class="title">multimap1</span><span class="params">(map1.cbegin(),map1.cend())</span></span>;</span><br><span class="line">    <span class="built_in">display</span>(multimap1);</span><br><span class="line">    <span class="comment">//multimap 不支持下标运算符，因为键并不能确定一个唯一元素。</span></span><br><span class="line">    <span class="comment">//multimap1[10] = &quot;Double Ten&quot;;//不同于map，multimap不能使用中括号[]法插入</span></span><br><span class="line">    multimap1.<span class="built_in">insert</span>(<span class="built_in">pair</span>&lt;<span class="type">int</span>, string&gt;(<span class="number">10</span>,<span class="string">&quot;Double Ten&quot;</span>));</span><br><span class="line">    <span class="built_in">display</span>(multimap1);</span><br><span class="line">    cout&lt;&lt;multimap1.<span class="built_in">count</span>(<span class="number">10</span>)&lt;&lt;endl; <span class="comment">//返回指定键10有多少个元素</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//查找</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">find</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">map&lt;<span class="type">int</span>, string&gt; <span class="title">map1</span><span class="params">(&#123;&#123;<span class="number">0</span>,<span class="string">&quot;zero&quot;</span>&#125;,&#123;<span class="number">1</span>,<span class="string">&quot;first&quot;</span>&#125;,&#123;<span class="number">3</span>,<span class="string">&quot;third&quot;</span>&#125;&#125;)</span></span>;</span><br><span class="line">    <span class="keyword">auto</span> pairFound = map1.<span class="built_in">find</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="comment">//首先检查迭代器确保find()已成功</span></span><br><span class="line">    <span class="keyword">if</span>(pairFound != map1.<span class="built_in">cend</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        cout&lt;&lt;pairFound-&gt;first&lt;&lt;<span class="string">&quot;-&gt;&quot;</span>&lt;&lt;pairFound-&gt;second&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;Not Found!&quot;</span>&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">erase</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">multimap&lt;<span class="type">int</span>, string&gt; <span class="title">multimap1</span><span class="params">(&#123;&#123;<span class="number">0</span>,<span class="string">&quot;zero&quot;</span>&#125;,&#123;<span class="number">1</span>,<span class="string">&quot;first&quot;</span>&#125;,&#123;<span class="number">1</span>,<span class="string">&quot; double first&quot;</span>&#125;,&#123;<span class="number">3</span>,<span class="string">&quot;third&quot;</span>&#125;&#125;)</span></span>;</span><br><span class="line">    <span class="built_in">display</span>(multimap1);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">auto</span> num = multimap1.<span class="built_in">erase</span>(<span class="number">1</span>);  <span class="comment">//返回删除的元素数目  删除键为1的所有元素</span></span><br><span class="line">    <span class="built_in">display</span>(multimap1);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//根据迭代器来删除</span></span><br><span class="line">    <span class="keyword">auto</span> elementFound = multimap1.<span class="built_in">find</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">if</span>(elementFound != multimap1.<span class="built_in">cend</span>())</span><br><span class="line">    &#123;</span><br><span class="line">         multimap1.<span class="built_in">erase</span>(elementFound);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">display</span>(multimap1);</span><br><span class="line">    </span><br><span class="line">    multimap1.<span class="built_in">clear</span>();<span class="comment">//清空</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">find</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="unordered-map和unordered-multimap-C-11">unordered_map和unordered_multimap(C++11)</h3>
<ul>
<li>基于散列表的map容器。</li>
<li>需包含头文件<code>#include &lt;unordered_map&gt;</code>。</li>
<li>在不发生冲突的情况下，平均插入/删除时间是固定的，查找时间也是固定的，不受包含元素数目的影响。</li>
</ul>
<h2 id="函数对象">函数对象</h2>
<!--书上内容较少，没啥好看的-->
<blockquote>
<p>函数对象（functor）：从概念上说，函数对象是用作函数的对象；但从实现上说，函数对象是实现了operator()的类的对象。</p>
</blockquote>
<h3 id="一元函数">一元函数</h3>
<blockquote>
<p><strong>一元函数</strong>：接收一个参数的函数。如果其返回一个布尔值，则该函数称为<strong>谓词</strong>。</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> *一元函数</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">FuncDisplay</span><span class="params">(<span class="type">const</span> T&amp; element)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cout &lt;&lt; element &lt;&lt;<span class="string">&#x27; &#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//一元函数的另一种表现形式,即其包含在类或结构的operator()中</span></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">StructDisplay</span>   <span class="comment">//这里用结构struct;如果用类class,需要指定为public。</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> count;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">StructDisplay</span>():<span class="built_in">count</span>(<span class="number">0</span>)&#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">const</span> T&amp; element)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        ++count;</span><br><span class="line">        cout &lt;&lt; element &lt;&lt;<span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用全局函数</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ByFunc</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; vecInts&#123;<span class="number">22</span>,<span class="number">2017</span>,<span class="number">-20</span>,<span class="number">100</span>,<span class="number">250</span>,<span class="number">630</span>&#125;;</span><br><span class="line">    <span class="comment">//STL for_each()</span></span><br><span class="line">    for_each(vecInts.<span class="built_in">begin</span>(),vecInts.<span class="built_in">end</span>(), FuncDisplay&lt;<span class="type">int</span>&gt;);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//使用结构: 由于可以包含成员，这就可以用来保存状态。</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ByStruct</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; vecInts&#123;<span class="number">22</span>,<span class="number">2017</span>,<span class="number">-20</span>,<span class="number">100</span>,<span class="number">250</span>,<span class="number">630</span>&#125;;</span><br><span class="line">    </span><br><span class="line">    StructDisplay&lt;<span class="type">int</span>&gt; result;</span><br><span class="line">    result = for_each(vecInts.<span class="built_in">begin</span>(),vecInts.<span class="built_in">end</span>(), <span class="built_in">StructDisplay</span>&lt;<span class="type">int</span>&gt;());</span><br><span class="line">    cout&lt;&lt;endl&lt;&lt;<span class="string">&quot;Functor invoked &quot;</span>&lt;&lt;result.count&lt;&lt;<span class="string">&quot; times&quot;</span>&lt;&lt;endl;</span><br><span class="line">    </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">//使用lambda表达式</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ByLambda</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; vecInts&#123;<span class="number">22</span>,<span class="number">2017</span>,<span class="number">-20</span>,<span class="number">100</span>,<span class="number">250</span>,<span class="number">630</span>&#125;;</span><br><span class="line"></span><br><span class="line">    for_each(vecInts.<span class="built_in">begin</span>(),vecInts.<span class="built_in">end</span>(),</span><br><span class="line">             [](<span class="type">int</span>&amp; element)</span><br><span class="line">             &#123;</span><br><span class="line">                 cout&lt;&lt;element&lt;&lt;<span class="string">&#x27; &#x27;</span>;</span><br><span class="line">             &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">ByFunc</span>();</span><br><span class="line">	cout&lt;&lt;endl&lt;&lt;endl;</span><br><span class="line">	<span class="built_in">ByStruct</span>();</span><br><span class="line">    cout&lt;&lt;endl;</span><br><span class="line">    <span class="built_in">ByLambda</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="二元函数">二元函数</h3>
<blockquote>
<p><strong>二元函数</strong>：接收两个参数的函数。如果其返回一个布尔值，则该函数称为<strong>二元谓词</strong>。</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//二元谓词</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">StructDisplay</span>   </span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>：</span><br><span class="line">    <span class="comment">//该二元谓词 将两个字符串转换为小写，再对其进行比较。用于字符串进行不区分大小写的排序。</span></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">const</span> string&amp; str1, <span class="type">const</span> string&amp; str2)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        string str1LowerCase;</span><br><span class="line">        str1LowerCase.<span class="built_in">resize</span>(str1.<span class="built_in">size</span>());</span><br><span class="line">        <span class="built_in">transform</span>(str1.<span class="built_in">begin</span>(), str1.<span class="built_in">end</span>(), str1LowerCase.<span class="built_in">begin</span>(), ::tolower);</span><br><span class="line">    </span><br><span class="line">        string str2LowerCase;</span><br><span class="line">        str2LowerCase.<span class="built_in">resize</span>(str2.<span class="built_in">size</span>());</span><br><span class="line">        <span class="built_in">transform</span>(str2.<span class="built_in">begin</span>(), str2.<span class="built_in">end</span>(), str2LowerCase.<span class="built_in">begin</span>(), ::tolower);</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">return</span> (str1LowerCase &lt; str2LowerCase);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="lambda表达式（C-11新增）">lambda表达式（C++11新增）</h2>
<blockquote>
<p>lambda表达式是一种定义匿名函数对象的简洁方式。</p>
</blockquote>
<h3 id="定义lambda表达式">定义lambda表达式</h3>
<blockquote>
<ul>
<li>以方括号[]打头。（告诉编译器，接下来是一个lambda表达式）</li>
<li>方括号后面是一个参数列表，该参数列表与不使用lambda表达式时提供给operator()的参数列表相同。</li>
</ul>
</blockquote>
<h3 id="一元函数对应的lambda表达式">一元函数对应的lambda表达式</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[](Type paramName)&#123;<span class="comment">//lambda expression&#125;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">//在算法for_each()中使用lambda表达式</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; nums&#123;<span class="number">101</span>, <span class="number">-4</span>, <span class="number">500</span>, <span class="number">21</span>, <span class="number">42</span>, <span class="number">-1</span>, <span class="number">-50</span>&#125;;</span><br><span class="line">  for_each(nums.<span class="built_in">cbegin</span>(), nums.<span class="built_in">cend</span>(),</span><br><span class="line">           [](<span class="keyword">auto</span>&amp; element) &#123; cout &lt;&lt; element &lt;&lt; <span class="string">&quot;,&quot;</span>; &#125;);</span><br><span class="line">  cout &lt;&lt; endl;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="一元谓词对应的lambda表达式">一元谓词对应的lambda表达式</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">//[](int&amp; element)&#123;return ((element%2)==0);&#125;//在element为偶数时</span></span><br><span class="line"><span class="comment">//find_if()中使用，找到数组中的第一个偶数</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; nums&#123;<span class="number">101</span>, <span class="number">-4</span>, <span class="number">500</span>, <span class="number">21</span>, <span class="number">42</span>, <span class="number">-1</span>, <span class="number">-50</span>&#125;;</span><br><span class="line">  <span class="keyword">auto</span> evenNum = <span class="built_in">find_if</span>(nums.<span class="built_in">cbegin</span>(), nums.<span class="built_in">cend</span>(),</span><br><span class="line">                         [](<span class="type">const</span> <span class="type">int</span>&amp; element) &#123; <span class="built_in">return</span> ((element % <span class="number">2</span>) == <span class="number">0</span>); &#125;);</span><br><span class="line">  <span class="keyword">if</span> (evenNum != nums.<span class="built_in">cend</span>()) &#123;</span><br><span class="line">    cout &lt;&lt; *evenNum &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><font color=#ff0000><strong>务必使用const来限定输入参数，在输入参数为引用参数时尤其如此。这样可避免无意间修改容器中元素的值。</strong></font></p>
</blockquote>
<h3 id="通过捕获列表接受状态变量的lambda表达式">通过捕获列表接受状态变量的lambda表达式</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">//指定除数</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; nums&#123;<span class="number">101</span>, <span class="number">-4</span>, <span class="number">500</span>, <span class="number">21</span>, <span class="number">42</span>, <span class="number">-1</span>, <span class="number">-50</span>&#125;;</span><br><span class="line">  <span class="type">int</span> divisor = <span class="number">50</span>;</span><br><span class="line">  <span class="keyword">auto</span> evenNum = <span class="built_in">find_if</span>(</span><br><span class="line">      nums.<span class="built_in">cbegin</span>(), nums.<span class="built_in">cend</span>(),</span><br><span class="line">      [divisor](<span class="type">const</span> <span class="type">int</span>&amp; element) &#123; <span class="built_in">return</span> ((element % divisor) == <span class="number">0</span>); &#125;);</span><br><span class="line">  <span class="keyword">if</span> (evenNum != nums.<span class="built_in">cend</span>()) &#123;</span><br><span class="line">    cout &lt;&lt; *evenNum &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>一系列以状态变量的方式传递的参数（<code>[...]</code>）也被称为<strong>lambda表达式的捕获列表</strong>（capture list）。</p>
</blockquote>
<h3 id="lambda表达式的通用语法">lambda表达式的通用语法</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//接收多个状态变量的lambda表达式</span></span><br><span class="line">[stateVar1, stateVar2](Type&amp; param)&#123;&#125;</span><br><span class="line"><span class="comment">//添加关键字mutable，可在lambda表达式中修改状态变量的值</span></span><br><span class="line"><span class="comment">//修改只在lambda表达式内生效</span></span><br><span class="line">[stateVar1, stateVar2](Type&amp; param) <span class="keyword">mutable</span>&#123;&#125;</span><br><span class="line"><span class="comment">//要保证修改的值在其外部也有效，需要按引用传递</span></span><br><span class="line">[stateVar1, &amp;stateVar2](Type&amp; param)&#123;&#125;</span><br><span class="line"><span class="comment">//向编译器明确指定返回类型，使用 -&gt;</span></span><br><span class="line"><span class="comment">//如果lambda表达式包含多行代码，就必须显式指定返回类型。</span></span><br><span class="line">[stateVar1, stateVar2](Type1&amp; param1, Type2&amp; param2)-&gt;ReturnType &#123;<span class="keyword">return</span> (value);&#125;</span><br></pre></td></tr></table></figure>
<h3 id="二元函数对应的lambda表达式">二元函数对应的lambda表达式</h3>
<p>二元函数接收两个参数，还可返回一个值</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[...](Type1&amp; param1, Type2&amp; param2)&#123;&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">//使用lambda表达式在std::transform()中实现元素相乘</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; nums1&#123;<span class="number">101</span>, <span class="number">-4</span>, <span class="number">500</span>, <span class="number">21</span>, <span class="number">42</span>, <span class="number">-1</span>, <span class="number">-50</span>&#125;;</span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; nums2&#123;<span class="number">101</span>, <span class="number">-4</span>, <span class="number">500</span>, <span class="number">21</span>, <span class="number">42</span>, <span class="number">-1</span>, <span class="number">-50</span>&#125;;</span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; result;</span><br><span class="line">  result.<span class="built_in">resize</span>(nums2.<span class="built_in">size</span>());</span><br><span class="line"></span><br><span class="line">  <span class="built_in">transform</span>(nums1.<span class="built_in">cbegin</span>(), nums1.<span class="built_in">cend</span>(), nums2.<span class="built_in">cbegin</span>(), result.<span class="built_in">begin</span>(),</span><br><span class="line">            [](<span class="type">int</span> a, <span class="type">int</span> b) &#123; <span class="keyword">return</span> a * b; &#125;);</span><br><span class="line"></span><br><span class="line">  for_each(nums1.<span class="built_in">cbegin</span>(), nums1.<span class="built_in">cend</span>(),</span><br><span class="line">           [](<span class="keyword">auto</span> element) &#123; cout &lt;&lt; element &lt;&lt; <span class="string">&quot;,&quot;</span>; &#125;);</span><br><span class="line">  cout &lt;&lt; endl;</span><br><span class="line">  for_each(nums2.<span class="built_in">cbegin</span>(), nums2.<span class="built_in">cend</span>(),</span><br><span class="line">           [](<span class="keyword">auto</span> element) &#123; cout &lt;&lt; element &lt;&lt; <span class="string">&quot;,&quot;</span>; &#125;);</span><br><span class="line">  cout &lt;&lt; endl;</span><br><span class="line">  for_each(result.<span class="built_in">cbegin</span>(), result.<span class="built_in">cend</span>(),</span><br><span class="line">           [](<span class="keyword">auto</span> element) &#123; cout &lt;&lt; element &lt;&lt; <span class="string">&quot;,&quot;</span>; &#125;);</span><br><span class="line">  cout &lt;&lt; endl;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注：</p>
<ul>
<li><strong>lambda表达式总是以[]或[…]打头。</strong></li>
<li><strong>除非用mutable进行指定，否则不能修改捕获列表中指定的状态变量。</strong></li>
<li><strong>当lambda表达式的语句块（{}）包含多条语句时，需要显式地指定返回类型。</strong></li>
<li><strong>lambda表达式地使用旨在简洁高效。因此当其语句块较为复杂或者涉及重用时，应该转为使用函数对象。</strong></li>
</ul>
</blockquote>
<h2 id="STL算法-2">STL算法</h2>
<blockquote>
<ul>
<li>头文件：<code>#include&lt;algorithm&gt;</code></li>
</ul>
</blockquote>
<h3 id="STL算法的分类">STL算法的分类</h3>
<blockquote>
<p>分为两大类：<strong>变序算法</strong>和<strong>非变序算法</strong>。</p>
</blockquote>
<h4 id="非变序算法">非变序算法</h4>
<blockquote>
<p>不改变容器中元素的顺序和内容的算法称为非变序算法。</p>
</blockquote>
<p>主要有：</p>
<ol>
<li>
<p>计数算法</p>
<ul>
<li><code>count()</code></li>
<li><code>count_if()</code></li>
</ul>
</li>
<li>
<p>搜索算法</p>
<ul>
<li><code>search()</code></li>
<li><code>search_n()</code></li>
<li><code>find()</code></li>
<li><code>find_if()</code></li>
<li><code>find_end()</code></li>
<li><code>find_first_of()</code></li>
<li><code>adjacent_find()</code></li>
</ul>
</li>
<li>
<p>比较算法</p>
<ul>
<li><code>equal()</code></li>
<li><code>mismatch()</code></li>
<li><code>lexicographical_compare()</code></li>
</ul>
</li>
</ol>
<h4 id="变序算法">变序算法</h4>
<blockquote>
<p>改变容器中元素的顺序或内容的算法称为变序算法。</p>
</blockquote>
<p>主要有：</p>
<ol>
<li>初始化算法
<ul>
<li>fill()</li>
<li>fill_n()</li>
<li>generate()</li>
<li>generate_n()</li>
</ul>
</li>
<li>修改算法
<ul>
<li>for_each()</li>
<li>transform()</li>
</ul>
</li>
<li>复制算法
<ul>
<li>copy()</li>
<li>copy_backward()</li>
</ul>
</li>
<li>删除算法
<ul>
<li>remove()</li>
<li>remove_if()</li>
<li>remove_copy()</li>
<li>remove_copy_if()</li>
<li>unique()</li>
<li>unique_copy()</li>
</ul>
</li>
<li>替换算法
<ul>
<li>replace()</li>
<li>replace_if()</li>
</ul>
</li>
<li>排序算法
<ul>
<li>sort()</li>
<li>stable_sort()</li>
<li>partial_sort()</li>
<li>partial_sort_copy()</li>
</ul>
</li>
<li>分区算法
<ul>
<li>partition()</li>
<li>stable_partition()</li>
</ul>
</li>
<li>可用于有序容器的算法
<ul>
<li>binary_search()</li>
<li>lower_bound()</li>
<li>upper_bound()</li>
</ul>
</li>
</ol>
<h3 id="使用STL算法">使用STL算法</h3>
<blockquote>
<p>注：</p>
<p><font color=#ff0000><strong>如果STL算法返回的是一个迭代器，务必要对其进行检查，以保证其有效性。</strong></font></p>
</blockquote>
<h4 id="find-find-if">find() &amp; find_if()</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">//函数对象:如果是奇数,返回true</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">specify_condition</span><span class="params">(<span class="type">const</span> T&amp; number)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> ((number % <span class="number">2</span>) != <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; nums&#123;<span class="number">101</span>, <span class="number">-4</span>, <span class="number">500</span>, <span class="number">21</span>, <span class="number">42</span>, <span class="number">-1</span>, <span class="number">-50</span>&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//使用find()找到特定的值</span></span><br><span class="line">  <span class="type">int</span> numToFind = <span class="number">21</span>;</span><br><span class="line">  <span class="keyword">auto</span> element = <span class="built_in">find</span>(nums.<span class="built_in">cbegin</span>(), nums.<span class="built_in">cend</span>(), numToFind);</span><br><span class="line">  <span class="keyword">if</span> (element != nums.<span class="built_in">cend</span>()) &#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;vector容器中找到了值:&quot;</span> &lt;&lt; *element &lt;&lt; endl;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;vector容器中找不到值:&quot;</span> &lt;&lt; numToFind &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//使用find_if()找到满足指定条件的第一个值</span></span><br><span class="line">  <span class="keyword">auto</span> element1 = <span class="built_in">find_if</span>(nums.<span class="built_in">cbegin</span>(), nums.<span class="built_in">cend</span>(), specify_condition&lt;<span class="type">int</span>&gt;);</span><br><span class="line">  <span class="keyword">if</span> (element1 != nums.<span class="built_in">cend</span>()) &#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;vector容器中找到了满足特定条件的第一个值:&quot;</span> &lt;&lt; *element1 &lt;&lt; endl;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;vector容器中找不到满足特定条件的值:&quot;</span> &lt;&lt; numToFind &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*输出</span></span><br><span class="line"><span class="comment">vector容器中找到了值:21</span></span><br><span class="line"><span class="comment">vector容器中找到了满足特定条件的第一个值:101</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h4 id="count-count-if">count() &amp; count_if()</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">//函数对象:如果是奇数,返回true</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">specify_condition</span><span class="params">(<span class="type">const</span> T&amp; number)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> ((number % <span class="number">2</span>) != <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; nums&#123;<span class="number">101</span>, <span class="number">-1</span>, <span class="number">500</span>, <span class="number">21</span>, <span class="number">42</span>, <span class="number">-1</span>, <span class="number">-50</span>&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//使用count()对特定的值计数，返回计数值</span></span><br><span class="line">  <span class="type">int</span> numToFind = <span class="number">-1</span>;</span><br><span class="line">  <span class="type">size_t</span> num = <span class="built_in">count</span>(nums.<span class="built_in">cbegin</span>(), nums.<span class="built_in">cend</span>(), numToFind);</span><br><span class="line">  cout &lt;&lt; <span class="string">&quot;vector容器中找到了值&quot;</span> &lt;&lt; numToFind &lt;&lt; <span class="string">&quot;共&quot;</span> &lt;&lt; num &lt;&lt; <span class="string">&quot;个&quot;</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//使用count_if()对满足指定条件的值计数，返回计数值</span></span><br><span class="line">  num = <span class="built_in">count_if</span>(nums.<span class="built_in">cbegin</span>(), nums.<span class="built_in">cend</span>(), specify_condition&lt;<span class="type">int</span>&gt;);</span><br><span class="line">  cout &lt;&lt; <span class="string">&quot;vector容器中找到了满足特定条件的值&quot;</span></span><br><span class="line">       &lt;&lt; <span class="string">&quot;共&quot;</span> &lt;&lt; num &lt;&lt; <span class="string">&quot;个&quot;</span> &lt;&lt; endl;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**输出</span></span><br><span class="line"><span class="comment">vector容器中找到了值-1共2个</span></span><br><span class="line"><span class="comment">vector容器中找到了满足特定条件的值共4个</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h4 id="fill-fill-n">fill() &amp; fill_n()</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">(<span class="type">const</span> T&amp; number)</span> </span>&#123;</span><br><span class="line">  cout &lt;&lt; number &lt;&lt; <span class="string">&quot;,&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">nums</span><span class="params">(<span class="number">5</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//使用fill()填充指定范围内的元素为指定值</span></span><br><span class="line">  <span class="comment">//输入:起始位置;终止位置;指定的值</span></span><br><span class="line">  <span class="built_in">fill</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">begin</span>() + <span class="number">2</span>, <span class="number">10</span>); <span class="comment">//这里不能使用常量迭代器,因为要修改容器中元素的值</span></span><br><span class="line">  for_each(nums.<span class="built_in">cbegin</span>(), nums.<span class="built_in">cend</span>(), display&lt;<span class="type">int</span>&gt;);</span><br><span class="line">  cout &lt;&lt; endl;</span><br><span class="line">  <span class="comment">//使用fill_n()填充指定个数的元素为指定值</span></span><br><span class="line">  <span class="comment">//输入：起始位置；指定个数；指定的值</span></span><br><span class="line">  <span class="built_in">fill_n</span>(nums.<span class="built_in">begin</span>() + <span class="number">2</span>, <span class="number">3</span>, <span class="number">9</span>);</span><br><span class="line">  for_each(nums.<span class="built_in">cbegin</span>(), nums.<span class="built_in">cend</span>(), display&lt;<span class="type">int</span>&gt;);</span><br><span class="line">  cout &lt;&lt; endl;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**输出</span></span><br><span class="line"><span class="comment">10,10,0,0,0,</span></span><br><span class="line"><span class="comment">10,10,9,9,9,</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h4 id="generate-generate-n">generate() &amp; generate_n()</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">(<span class="type">const</span> T&amp; number)</span> </span>&#123;</span><br><span class="line">  cout &lt;&lt; number &lt;&lt; <span class="string">&quot;,&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">nums</span><span class="params">(<span class="number">5</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">srand</span>(<span class="built_in">time</span>(<span class="literal">NULL</span>));</span><br><span class="line"></span><br><span class="line">  <span class="comment">//使用fill()填充指定范围内的元素为一元函数返回的值</span></span><br><span class="line">  <span class="comment">//输入:起始位置;终止位置;指定条件</span></span><br><span class="line">  <span class="built_in">generate</span>(nums.<span class="built_in">begin</span>(), nums.<span class="built_in">begin</span>() + <span class="number">2</span>, rand);  <span class="comment">// rand为随机数生成器</span></span><br><span class="line">  for_each(nums.<span class="built_in">cbegin</span>(), nums.<span class="built_in">cend</span>(), display&lt;<span class="type">int</span>&gt;);</span><br><span class="line">  cout &lt;&lt; endl;</span><br><span class="line">  <span class="comment">//使用fill_n()填充指定个数的元素为一元函数返回的值</span></span><br><span class="line">  <span class="comment">//输入:起始位置;指定个数;指定条件</span></span><br><span class="line">  <span class="built_in">generate_n</span>(nums.<span class="built_in">begin</span>() + <span class="number">2</span>, <span class="number">5</span>, rand);</span><br><span class="line">  for_each(nums.<span class="built_in">cbegin</span>(), nums.<span class="built_in">cend</span>(), display&lt;<span class="type">int</span>&gt;);</span><br><span class="line">  cout &lt;&lt; endl;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**输出</span></span><br><span class="line"><span class="comment">19362,17346,0,0,0,</span></span><br><span class="line"><span class="comment">19362,17346,11224,31780,17349,</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h4 id="for-each">for_each()</h4>
<blockquote>
<p>对指定范围内的每个元素执行指定的一元函数对象</p>
</blockquote>
<h4 id="transform">transform()</h4>
<blockquote>
<ul>
<li>和for_each()很像,都对源范围内的每个元素调用指定的函数对象,包括两个版本。</li>
<li><strong>第一个版本接收一元函数，常用于字符串转换大小写（使用toupper()或tolower()）。</strong></li>
<li><strong>第二个版本接收二元函数，让transform()能够处理一对来自两个不同范围的元素(用于加减乘除)。</strong></li>
</ul>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="function">string <span class="title">str</span><span class="params">(<span class="string">&quot;This is a test string!&quot;</span>)</span></span>;</span><br><span class="line">  string strToUpper;</span><br><span class="line">  strToUpper.<span class="built_in">resize</span>(str.<span class="built_in">size</span>());</span><br><span class="line">  <span class="comment">//将字符串转换为大写</span></span><br><span class="line">  <span class="comment">//输入:原字符串起始位置;原字符串终止位置;目标字符串起始位置;一元函数对象</span></span><br><span class="line">  <span class="built_in">transform</span>(str.<span class="built_in">cbegin</span>(), str.<span class="built_in">cend</span>(), strToUpper.<span class="built_in">begin</span>(), ::toupper);</span><br><span class="line">  cout &lt;&lt; strToUpper &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">  vector&lt;<span class="type">int</span>&gt; nums1&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>&#125;;</span><br><span class="line">  <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">nums2</span><span class="params">(nums1.size(), <span class="number">10</span>)</span></span>;</span><br><span class="line">  <span class="function">deque&lt;<span class="type">int</span>&gt; <span class="title">productInList</span><span class="params">(nums1.size())</span></span>;</span><br><span class="line">  <span class="comment">//将两个等大小的vector元素对应相乘</span></span><br><span class="line">  <span class="comment">//容器1起始位置;容器1终止位置;容器2起始位置;目标容器起始位置;二元函数对象</span></span><br><span class="line">  <span class="built_in">transform</span>(nums1.<span class="built_in">cbegin</span>(), nums1.<span class="built_in">cend</span>(), nums2.<span class="built_in">cbegin</span>(), productInList.<span class="built_in">begin</span>(),</span><br><span class="line">            [](<span class="type">int</span> a, <span class="type">int</span> b) &#123; <span class="keyword">return</span> a * b; &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">size_t</span> i = <span class="number">0</span>; i &lt; nums1.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">    cout &lt;&lt; i &lt;&lt; <span class="string">&quot;\t&quot;</span> &lt;&lt; nums1[i] &lt;&lt; <span class="string">&quot; * &quot;</span> &lt;&lt; nums2[i] &lt;&lt; <span class="string">&quot; = &quot;</span></span><br><span class="line">         &lt;&lt; productInList[i] &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**输出</span></span><br><span class="line"><span class="comment">THIS IS A TEST STRING!</span></span><br><span class="line"><span class="comment">0	1 * 10 = 10</span></span><br><span class="line"><span class="comment">1	2 * 10 = 20</span></span><br><span class="line"><span class="comment">2	3 * 10 = 30</span></span><br><span class="line"><span class="comment">3	4 * 10 = 40</span></span><br><span class="line"><span class="comment">4	5 * 10 = 50</span></span><br><span class="line"><span class="comment">5	6 * 10 = 60</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>上述例子，通过两个vector容器相加赋给到deque容器中。表明：通过使用迭代器，可将容器及其实现同STL算法分离（STL算法无需知道容器的具体细节）。</p>
</blockquote>
<h4 id="copy-copy-if-remove-remove-if">copy() &amp; copy_if() &amp; remove() &amp; remove_if()</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Display</span><span class="params">(<span class="type">const</span> T&amp; container)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">auto</span> element = container.<span class="built_in">cbegin</span>(); element != container.<span class="built_in">cend</span>();</span><br><span class="line">       ++element) &#123;</span><br><span class="line">    cout &lt;&lt; *element &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  list&lt;<span class="type">int</span>&gt; numsList1&#123;<span class="number">10</span>, <span class="number">2020</span>, <span class="number">0</span>, <span class="number">2017</span>, <span class="number">-15</span>, <span class="number">-14</span>, <span class="number">0</span>, <span class="number">58</span>, <span class="number">1</span>&#125;;</span><br><span class="line">  <span class="function">list&lt;<span class="type">int</span>&gt; <span class="title">numsList2</span><span class="params">(numsList1.size(), <span class="number">21</span>)</span></span>;</span><br><span class="line">  <span class="built_in">Display</span>(numsList1);</span><br><span class="line">  <span class="built_in">Display</span>(numsList2);</span><br><span class="line">  <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">numsVector</span><span class="params">(numsList1.size() * <span class="number">2</span>)</span></span>;<span class="comment">//设置为上述容器的2倍</span></span><br><span class="line">  <span class="comment">//将numsList2的值复制到numsVector中，返回一个迭代器</span></span><br><span class="line">  <span class="keyword">auto</span> lastElement =</span><br><span class="line">      <span class="built_in">copy</span>(numsList2.<span class="built_in">cbegin</span>(), numsList2.<span class="built_in">cend</span>(), numsVector.<span class="built_in">begin</span>());</span><br><span class="line">  <span class="comment">//将numsList1中的偶数值复制到numsVector中，从上面返回的位置开始复制。</span></span><br><span class="line">  <span class="built_in">copy_if</span>(numsList1.<span class="built_in">cbegin</span>(), numsList1.<span class="built_in">cend</span>(), lastElement,</span><br><span class="line">          [](<span class="type">int</span> element) &#123; <span class="built_in">return</span> ((element % <span class="number">2</span>) == <span class="number">0</span>); &#125;);</span><br><span class="line">  <span class="built_in">Display</span>(numsVector);</span><br><span class="line">    </span><br><span class="line">  <span class="comment">//删除numsVector中的0</span></span><br><span class="line">  <span class="keyword">auto</span> newEnd = <span class="built_in">remove</span>(numsVector.<span class="built_in">begin</span>(), numsVector.<span class="built_in">end</span>(), <span class="number">0</span>);</span><br><span class="line">  numsVector.<span class="built_in">erase</span>(newEnd, numsVector.<span class="built_in">end</span>()); <span class="comment">//调整容器大小</span></span><br><span class="line">  <span class="built_in">Display</span>(numsVector);</span><br><span class="line">  <span class="comment">//删除numsVector中的奇数</span></span><br><span class="line">  newEnd = <span class="built_in">remove_if</span>(numsVector.<span class="built_in">begin</span>(), numsVector.<span class="built_in">end</span>(),</span><br><span class="line">                     [](<span class="type">int</span> element) &#123; <span class="built_in">return</span> ((element % <span class="number">2</span>) == <span class="number">1</span>); &#125;);</span><br><span class="line">  numsVector.<span class="built_in">erase</span>(newEnd, numsVector.<span class="built_in">end</span>());</span><br><span class="line">  <span class="built_in">Display</span>(numsVector);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**输出</span></span><br><span class="line"><span class="comment">10 2020 0 2017 -15 -14 0 58 1 </span></span><br><span class="line"><span class="comment">21 21 21 21 21 21 21 21 21 </span></span><br><span class="line"><span class="comment">21 21 21 21 21 21 21 21 21 10 2020 0 -14 0 58 0 0 0 </span></span><br><span class="line"><span class="comment">21 21 21 21 21 21 21 21 21 10 2020 -14 58 </span></span><br><span class="line"><span class="comment">10 2020 -14 58 </span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h4 id="replace-replace-if">replace() &amp; replace_if()</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Display</span><span class="params">(<span class="type">const</span> T &amp;container)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> element = container.<span class="built_in">cbegin</span>(); element != container.<span class="built_in">cend</span>();</span><br><span class="line">         ++element)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; *element &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    list&lt;<span class="type">int</span>&gt; numsList1&#123;<span class="number">10</span>, <span class="number">2020</span>, <span class="number">0</span>, <span class="number">2017</span>, <span class="number">-15</span>, <span class="number">-14</span>, <span class="number">0</span>, <span class="number">58</span>, <span class="number">1</span>&#125;;</span><br><span class="line">    list&lt;<span class="type">int</span>&gt; numsList2&#123;<span class="number">10</span>, <span class="number">11</span>, <span class="number">20</span>, <span class="number">21</span>, <span class="number">30</span>, <span class="number">31</span>&#125;;</span><br><span class="line">    <span class="built_in">Display</span>(numsList1);</span><br><span class="line">    <span class="built_in">Display</span>(numsList2);</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//replace()根据比较运算符==的返回值来替换元素</span></span><br><span class="line">    <span class="comment">//输入:集合的起始位置;集合的终止位置;要替换的值;替换成的值</span></span><br><span class="line">    <span class="built_in">replace</span>(numsList1.<span class="built_in">begin</span>(), numsList1.<span class="built_in">end</span>(), <span class="number">0</span>, <span class="number">-1</span>);</span><br><span class="line">    <span class="built_in">Display</span>(numsList1);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//replace_if()接收一个一元谓词,替换满足其条件的值</span></span><br><span class="line">    <span class="comment">//输入:集合的起始位置;集合的终止位置;一元谓词;替换成的值</span></span><br><span class="line">    <span class="built_in">replace_if</span>(</span><br><span class="line">        numsList2.<span class="built_in">begin</span>(), numsList2.<span class="built_in">end</span>(), [](<span class="type">int</span> a)</span><br><span class="line">        &#123; <span class="built_in">return</span> (a % <span class="number">2</span>) == <span class="number">0</span>; &#125;,</span><br><span class="line">        <span class="number">-1</span>);</span><br><span class="line">    <span class="built_in">Display</span>(numsList2);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**输出</span></span><br><span class="line"><span class="comment">10 2020 0 2017 -15 -14 0 58 1 </span></span><br><span class="line"><span class="comment">10 11 20 21 30 31 </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">10 2020 -1 2017 -15 -14 -1 58 1 </span></span><br><span class="line"><span class="comment">-1 11 -1 21 -1 31 </span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h4 id="sort-resize-binary-search">sort() &amp; resize() &amp; binary_search()</h4>
<ol>
<li>sort()：排序</li>
</ol>
<blockquote>
<ul>
<li>stable_sort()与sort()一样，只不过它是稳定的，这相对于sort()就降低了性能，使用时需要权衡考虑。</li>
<li>sort()不要用于list容器。sort()接受的输入迭代器是随机访问迭代器，但是双向list链表容器的访问方式是双向迭代器，因此，不能使用STL本身的排序算法sort()。可使用list自己的成员方法sort()。</li>
</ul>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//默认使用std::less&lt;&gt;,即默认为升序排序</span></span><br><span class="line"><span class="built_in">sort</span>(nums.<span class="built_in">begin</span>(),nums.<span class="built_in">end</span>());</span><br><span class="line"><span class="comment">//可以使用二元谓词指定排序方式</span></span><br><span class="line"><span class="built_in">sort</span>(nums.<span class="built_in">begin</span>(),nums.<span class="built_in">end</span>(),[](<span class="type">int</span> a, <span class="type">int</span> b)&#123;<span class="built_in">return</span> (a &gt; b);&#125;);<span class="comment">//实现降序排序</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li>unique()：删除相邻重复元素</li>
</ol>
<blockquote>
<ul>
<li><strong>只能删除相邻的重复元素</strong>。</li>
<li>因此为了达到去重的效果，应该先进行排序，再使用unique()。</li>
</ul>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> newEnd = <span class="built_in">unique</span>(nums.<span class="built_in">begin</span>(),nums.<span class="built_in">end</span>());</span><br><span class="line">nums.<span class="built_in">erase</span>(newEnd,nums.<span class="built_in">end</span>()); <span class="comment">//to resize</span></span><br></pre></td></tr></table></figure>
<ol start="3">
<li>binary_search()</li>
</ol>
<blockquote>
<p>binary_search()它只能用于<strong>有序的容器</strong>，实现快速查找。（如果用于未经排序的容器，结果不可知。）</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">bool</span> elementFound = <span class="built_in">binary_search</span>(nums.<span class="built_in">cbegin</span>(),nums.<span class="built_in">cend</span>(),<span class="number">2001</span>);</span><br><span class="line"><span class="keyword">if</span>(elementFound)</span><br><span class="line">&#123;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;Element found in the vector!&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Display</span><span class="params">(<span class="type">const</span> T &amp;container)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> element = container.<span class="built_in">cbegin</span>(); element != container.<span class="built_in">cend</span>();</span><br><span class="line">         ++element)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; *element &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; numsList1&#123;<span class="number">10</span>, <span class="number">2020</span>, <span class="number">0</span>, <span class="number">2017</span>, <span class="number">-15</span>, <span class="number">-15</span>, <span class="number">0</span>, <span class="number">58</span>, <span class="number">10</span>&#125;;</span><br><span class="line">    <span class="built_in">Display</span>(numsList1);</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//升序排序</span></span><br><span class="line">    <span class="built_in">sort</span>(numsList1.<span class="built_in">begin</span>(), numsList1.<span class="built_in">end</span>());</span><br><span class="line">    <span class="built_in">Display</span>(numsList1);</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//快速查找</span></span><br><span class="line">    <span class="type">bool</span> elementFound = <span class="built_in">binary_search</span>(numsList1.<span class="built_in">cbegin</span>(), numsList1.<span class="built_in">cend</span>(), <span class="number">2011</span>);</span><br><span class="line">    <span class="keyword">if</span> (elementFound)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Element was found in the vector!&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Element not found!&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//去重</span></span><br><span class="line">    <span class="keyword">auto</span> newEnd = <span class="built_in">unique</span>(numsList1.<span class="built_in">begin</span>(), numsList1.<span class="built_in">end</span>());</span><br><span class="line">    numsList1.<span class="built_in">erase</span>(newEnd, numsList1.<span class="built_in">end</span>());</span><br><span class="line">    <span class="built_in">Display</span>(numsList1);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**输出</span></span><br><span class="line"><span class="comment">10 2020 0 2017 -15 -15 0 58 10 </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">-15 -15 0 0 10 10 58 2017 2020 </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Element not found!</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">-15 0 10 58 2017 2020 </span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h4 id="partition">partition()</h4>
<blockquote>
<ul>
<li>
<p>partition()将范围分区，不稳定的。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//输入：容器起始位置；容器终止位置；一元谓词</span></span><br><span class="line"><span class="built_in">partition</span>(numsList1.<span class="built_in">begin</span>(), numsList1.<span class="built_in">end</span>(),[](<span class="type">int</span> a)&#123;<span class="keyword">return</span> a&lt;<span class="number">0</span>;&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>stable_partition()是稳定的。但为了保证相对顺序不变，性能有所降低。</p>
</li>
</ul>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Display</span><span class="params">(<span class="type">const</span> T &amp;container)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> element = container.<span class="built_in">cbegin</span>(); element != container.<span class="built_in">cend</span>();</span><br><span class="line">         ++element)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; *element &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; numsList1&#123;<span class="number">10</span>, <span class="number">2020</span>, <span class="number">0</span>, <span class="number">2017</span>, <span class="number">-14</span>, <span class="number">-15</span>, <span class="number">0</span>, <span class="number">-58</span>, <span class="number">10</span>&#125;;</span><br><span class="line">    <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">numsList2</span><span class="params">(numsList1)</span></span>;</span><br><span class="line">    <span class="built_in">Display</span>(numsList1);</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//非稳定分区</span></span><br><span class="line">    <span class="comment">//分为负数和非负数</span></span><br><span class="line">    <span class="built_in">partition</span>(numsList1.<span class="built_in">begin</span>(), numsList1.<span class="built_in">end</span>(), [](<span class="type">int</span> b)</span><br><span class="line">              &#123; <span class="keyword">return</span> b &lt; <span class="number">0</span>; &#125;);</span><br><span class="line">    <span class="built_in">Display</span>(numsList1);</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//稳定分区</span></span><br><span class="line">    <span class="built_in">stable_partition</span>(numsList2.<span class="built_in">begin</span>(), numsList2.<span class="built_in">end</span>(), [](<span class="type">int</span> b)</span><br><span class="line">                     &#123; <span class="keyword">return</span> b &lt; <span class="number">0</span>; &#125;);</span><br><span class="line">    <span class="built_in">Display</span>(numsList2);</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**输出</span></span><br><span class="line"><span class="comment">10 2020 0 2017 -14 -15 0 -58 10 </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">-58 -15 -14 2017 0 2020 0 10 10 </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">-14 -15 -58 10 2020 0 2017 0 10 </span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h4 id="lower-bound-upper-bound">lower_bound() &amp; upper_bound()</h4>
<blockquote>
<ul>
<li>向有序容器中插入元素</li>
</ul>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//都返回一个迭代器，分别指向在不破坏现有顺序的情况下，元素可插入到有序容器中的最前位置和最后位置。</span></span><br><span class="line"><span class="keyword">auto</span> minInsertPos = <span class="built_in">lower_bound</span>(nums.<span class="built_in">begin</span>(),nums.<span class="built_in">end</span>(),<span class="number">21</span>);</span><br><span class="line"><span class="keyword">auto</span> maxInsertPos = <span class="built_in">upper_bound</span>(nums.<span class="built_in">begin</span>(),nums.<span class="built_in">end</span>(),<span class="number">21</span>);</span><br></pre></td></tr></table></figure>
<h3 id="总结">总结</h3>
<blockquote>
<ol>
<li><strong>使用<code>remove()</code>，<code>remove_if()</code>，<code>unique()</code>算法删除元素后，务必使用容器的成员方法erase()调整容器的大小。</strong></li>
<li><strong>使用<code>unique()</code>算法，务必在使用前进行排序，保证重复元素彼此相邻。</strong></li>
<li><strong>使用<code>find()</code>，<code>find_if()</code>，<code>search()</code>，<code>search_n</code>算法返回的迭代器之前，务必将其与容器的<code>end()</code>进行比较，保证有效。</strong></li>
<li><strong>仅当元素的相对顺序重要时，才使用<code>stable_sort()</code>，<code>stable_partition()</code>。</strong></li>
<li><strong><code>binary_search()</code>只能用于有序容器。</strong></li>
<li><strong>对于有序容器，需要进行插入时，应使用<code>lower_bound()</code>，<code>upper_bound()</code>，保证插入后容器仍然是有序的。</strong></li>
</ol>
</blockquote>
<h2 id="自适应容器：栈和队列">自适应容器：栈和队列</h2>
<h3 id="栈">栈</h3>
<blockquote>
<ul>
<li>
<p>LIFO(后入先出)，从栈顶删除/插入元素。“后来居上”</p>
</li>
<li>
<p>泛型容器<code>std::stack</code></p>
</li>
<li>
<p>头文件<code>#include&lt;stack&gt;</code></p>
</li>
<li>
<p>stack内部是默认yongstd::deque来实现的。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;</span><br><span class="line">   <span class="keyword">class</span> <span class="title class_">elementType</span>,</span><br><span class="line">   <span class="keyword">class</span> <span class="title class_">Container</span>=deque&lt;Type&gt;</span><br><span class="line">&gt;<span class="keyword">class</span> stack;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>stack改变了其内部实现容器的行为，通过限制元素插入或者删除的方式实现其功能，从而提供严格遵守栈机制的行为特征。</p>
</li>
</ul>
</blockquote>
<h4 id="std-stack实例化">std::stack实例化</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">    <span class="comment">//实例化整型栈</span></span><br><span class="line">    stack&lt;<span class="type">int</span>&gt; numsInStack;</span><br><span class="line">    <span class="comment">//在内部改用std::vector来存储数据，默认是std::deque</span></span><br><span class="line">    stack&lt;<span class="type">double</span>, vector&lt;<span class="type">double</span>&gt;&gt; doubleStackedInVec;</span><br><span class="line">    <span class="comment">//拷贝构造</span></span><br><span class="line">    <span class="function">stack&lt;<span class="type">int</span>&gt; <span class="title">numsInStackCopy</span><span class="params">(numsInStack)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="std-stack的成员函数">std::stack的成员函数</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">push</span>() <span class="comment">//在栈顶插入元素</span></span><br><span class="line"><span class="built_in">pop</span>()  <span class="comment">//删除栈顶元素</span></span><br><span class="line"><span class="built_in">empty</span>()<span class="comment">//检查栈是否为空并返回true/false</span></span><br><span class="line"><span class="built_in">size</span>() <span class="comment">//返回栈的大小</span></span><br><span class="line"><span class="built_in">top</span>()  <span class="comment">//获取指向栈顶元素的引用</span></span><br></pre></td></tr></table></figure>
<h3 id="队列">队列</h3>
<blockquote>
<ul>
<li>
<p>FIFO(先入先出)，在末尾插入元素，在开头删除元素。</p>
</li>
<li>
<p><code>std::queue</code></p>
</li>
<li>
<p>头文件<code>#include&lt;queue&gt;</code></p>
</li>
<li>
<p>定义</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;</span><br><span class="line">   <span class="keyword">class</span> <span class="title class_">elementType</span>,</span><br><span class="line">   <span class="keyword">class</span> <span class="title class_">Container</span>=deque&lt;Type&gt;</span><br><span class="line">&gt;<span class="keyword">class</span> queue;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<h4 id="std-queue实例化">std::queue实例化</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::queue&lt;<span class="type">double</span>&gt; doubleInQueue;</span><br><span class="line">    </span><br><span class="line">    std::queue&lt;<span class="type">double</span>,list&lt;<span class="type">double</span>&gt;&gt; doubleInQueueInList;</span><br><span class="line">    </span><br><span class="line">    <span class="function">std::queue&lt;<span class="type">double</span>&gt; <span class="title">doubleInQueueCopy</span><span class="params">(doubleInQueue)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="std-queue的成员函数">std::queue的成员函数</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">push</span>()   <span class="comment">//在队尾插入元素</span></span><br><span class="line"><span class="built_in">pop</span>()    <span class="comment">//在队头删除元素</span></span><br><span class="line"><span class="built_in">front</span>()  <span class="comment">//返回指向队头元素的引用</span></span><br><span class="line"><span class="built_in">back</span>()   <span class="comment">//返回指向队尾元素的引用</span></span><br><span class="line"><span class="built_in">empty</span>()  <span class="comment">//检查队列是否为空，返回true/false</span></span><br><span class="line"><span class="built_in">size</span>()   <span class="comment">//返回队列中的元素数</span></span><br></pre></td></tr></table></figure>
<h3 id="优先级队列">优先级队列</h3>
<blockquote>
<ul>
<li>
<p><code>STL::priority_queue</code></p>
</li>
<li>
<p>头文件<code>#include&lt;queue&gt;</code></p>
</li>
<li>
<p>与<code>queue</code>的区别在于：优先级最高的元素位于队首，且只能在队首执行操作。</p>
</li>
<li>
<p>定义：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;</span><br><span class="line">   <span class="keyword">class</span> <span class="title class_">elementType</span>,   <span class="comment">//指定元素类型</span></span><br><span class="line">   <span class="keyword">class</span> <span class="title class_">Container</span>=vector&lt;Type&gt;,  <span class="comment">//指定内部的存储容器</span></span><br><span class="line">   <span class="keyword">class</span> Compare=less&lt;<span class="keyword">typename</span> Container::value_type&gt;  <span class="comment">//指定二元谓词，默认使用std::less</span></span><br><span class="line">&gt;<span class="keyword">class</span> priority_queue;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<h4 id="std-priority-queue实例化">std::priority_queue实例化</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;list&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;functional&gt;</span>  <span class="comment">//为了使用std::greate&lt;&gt;r</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::priority_queue&lt;<span class="type">double</span>&gt; doubleInPQ;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//std::greater使得最小的元素位于队首</span></span><br><span class="line">    std::queue&lt;<span class="type">int</span>,deque&lt;<span class="type">int</span>&gt;,std::greater&lt;<span class="type">int</span>&gt;&gt; doubleInQueueInList;</span><br><span class="line">    </span><br><span class="line">    <span class="function">std::queue&lt;<span class="type">double</span>&gt; <span class="title">doubleInPQCopy</span><span class="params">(doubleInPQ)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="std-priority-queue的成员函数">std::priority_queue的成员函数</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">push</span>()   <span class="comment">//插入一个元素</span></span><br><span class="line"><span class="built_in">pop</span>()    <span class="comment">//删除队首元素</span></span><br><span class="line"><span class="built_in">top</span>()    <span class="comment">//返回队首元素的引用</span></span><br><span class="line"><span class="built_in">empty</span>()  <span class="comment">//检查队列是否为空，返回true/false</span></span><br><span class="line"><span class="built_in">size</span>()   <span class="comment">//返回队列中的元素数</span></span><br></pre></td></tr></table></figure>
<h2 id="STL位标志">STL位标志</h2>
<h3 id="bitset类">bitset类</h3>
<blockquote>
<ul>
<li><code>std::bitset</code></li>
<li>头文件<code>#include&lt;bitset&gt;</code></li>
<li>用于处理以位和位标志表示的信息。它不是容器类（因为不能调整长度）。它针对处理长度在编译阶段已知的位序列进行了优化。</li>
<li>元素只能为0、1。</li>
</ul>
</blockquote>
<h4 id="std-bitset实例化">std::bitset实例化</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//初始化位数为4，值为0000</span></span><br><span class="line">bitset&lt;4&gt; fourBits;</span><br><span class="line"><span class="comment">//用字符串字面量的位序列初始化</span></span><br><span class="line"><span class="function">bitset&lt;5&gt; <span class="title">fiveBits</span><span class="params">(<span class="string">&quot;10101&quot;</span>)</span></span>;</span><br><span class="line"><span class="comment">//拷贝构造</span></span><br><span class="line"><span class="function">bitset&lt;5&gt; <span class="title">fiveBitsCopy</span><span class="params">(fiveBits)</span></span>;</span><br><span class="line"><span class="comment">//用十进制初始化,11111111（C++14新增）还可使用0b11111111</span></span><br><span class="line"><span class="function">bitset&lt;8&gt; <span class="title">eightBits</span><span class="params">(<span class="number">255</span>)</span></span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>位数在编译阶段已指定，不能动态改变。</strong></p>
</blockquote>
<h4 id="std-bitset运算符">std::bitset运算符</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bitset&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">bitset&lt;4&gt; <span class="title">Bits1</span><span class="params">(<span class="number">7</span>)</span></span>;</span><br><span class="line">    <span class="function">bitset&lt;4&gt; <span class="title">Bits2</span><span class="params">(<span class="number">8</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*运算符*/</span></span><br><span class="line">    <span class="comment">//&lt;&lt; : 输出</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Bits1:&quot;</span> &lt;&lt; Bits1 &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Bits2:&quot;</span> &lt;&lt; Bits2 &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//按位与&amp;</span></span><br><span class="line">    <span class="function">bitset&lt;4&gt; <span class="title">result</span><span class="params">(Bits1 &amp; Bits2)</span></span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Bits1 &amp; Bits2:&quot;</span> &lt;&lt; result &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//按位或|</span></span><br><span class="line">    result = Bits1 | Bits2;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Bits1 | Bits2:&quot;</span> &lt;&lt; result &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//按位异或^</span></span><br><span class="line">    result = Bits1 ^ Bits2;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Bits1 ^ Bits2:&quot;</span> &lt;&lt; result &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//按位取反~</span></span><br><span class="line">    result = ~Bits1;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;~Bits1:&quot;</span> &lt;&lt; result &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//按位右移&gt;&gt;=</span></span><br><span class="line">    Bits1 &gt;&gt;= <span class="number">2</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Bits1&gt;&gt;=2:&quot;</span> &lt;&lt; Bits1 &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//按位左移&lt;&lt;=</span></span><br><span class="line">    Bits1 &lt;&lt;= <span class="number">2</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Bits1&lt;&lt;=2:&quot;</span> &lt;&lt; Bits1 &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//通过下标访问</span></span><br><span class="line">    Bits1[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Bits[1]:&quot;</span> &lt;&lt; Bits1[<span class="number">1</span>] &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**输出</span></span><br><span class="line"><span class="comment">Bits1:0111</span></span><br><span class="line"><span class="comment">Bits2:1000</span></span><br><span class="line"><span class="comment">Bits1 &amp; Bits2:0000</span></span><br><span class="line"><span class="comment">Bits1 | Bits2:1111</span></span><br><span class="line"><span class="comment">Bits1 ^ Bits2:1111</span></span><br><span class="line"><span class="comment">~Bits1:1000</span></span><br><span class="line"><span class="comment">Bits1&gt;&gt;=2:0001</span></span><br><span class="line"><span class="comment">Bits1&lt;&lt;=2:0100</span></span><br><span class="line"><span class="comment">Bits[1]:0</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h4 id="std-bitset成员方法">std::bitset成员方法</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span>();      <span class="comment">//序列中的所有位设置为1</span></span><br><span class="line"><span class="built_in">set</span>(N, <span class="number">0</span>);  <span class="comment">//设置第N+1位为0</span></span><br><span class="line"><span class="built_in">reset</span>();    <span class="comment">//重置为0</span></span><br><span class="line"><span class="built_in">reset</span>(N);   <span class="comment">//第N+1为重置为0</span></span><br><span class="line"><span class="built_in">flip</span>();     <span class="comment">//所有位取反</span></span><br><span class="line"><span class="built_in">size</span>();     <span class="comment">//返回位数</span></span><br><span class="line"><span class="built_in">count</span>();    <span class="comment">//返回值为1的位数</span></span><br></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bitset&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    bitset&lt;4&gt; Bits;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Bits:&quot;</span> &lt;&lt; Bits &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    Bits.<span class="built_in">set</span>();</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Bits:&quot;</span> &lt;&lt; Bits &lt;&lt; endl;</span><br><span class="line">    Bits.<span class="built_in">set</span>(<span class="number">3</span>, <span class="number">0</span>);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Bits:&quot;</span> &lt;&lt; Bits &lt;&lt; endl;</span><br><span class="line">    Bits.<span class="built_in">reset</span>(<span class="number">0</span>);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Bits:&quot;</span> &lt;&lt; Bits &lt;&lt; endl;</span><br><span class="line">    Bits.<span class="built_in">flip</span>();</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Bits:&quot;</span> &lt;&lt; Bits &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Bits.count():&quot;</span> &lt;&lt; Bits.<span class="built_in">count</span>() &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Bits.size():&quot;</span> &lt;&lt; Bits.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">    Bits.<span class="built_in">reset</span>();</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Bits:&quot;</span> &lt;&lt; Bits &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**输出</span></span><br><span class="line"><span class="comment">Bits:0000</span></span><br><span class="line"><span class="comment">Bits:1111</span></span><br><span class="line"><span class="comment">Bits:0111</span></span><br><span class="line"><span class="comment">Bits:0110</span></span><br><span class="line"><span class="comment">Bits:1001</span></span><br><span class="line"><span class="comment">Bits.count():2</span></span><br><span class="line"><span class="comment">Bits.size():4</span></span><br><span class="line"><span class="comment">Bits:0000</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h3 id="vector-bool">vector&lt;bool&gt;</h3>
<blockquote>
<ul>
<li>克服bitset类不能动态调整长度的缺点。可动态调整长度。</li>
<li>作为对<code>std::vector</code>的部分具体化，用于存储布尔数据。</li>
<li>头文件<code>#include&lt;vector&gt;</code>。</li>
</ul>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">(vector&lt;<span class="type">bool</span>&gt; bools)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">size_t</span> i = <span class="number">0</span>; i &lt; bools.<span class="built_in">size</span>(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; bools[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//默认初始化为0</span></span><br><span class="line">    <span class="function">vector&lt;<span class="type">bool</span>&gt; <span class="title">boolFlags1</span><span class="params">(<span class="number">4</span>)</span></span>;</span><br><span class="line">    <span class="built_in">display</span>(boolFlags1);</span><br><span class="line">    <span class="comment">//构造包含10个元素,值为1(true)</span></span><br><span class="line">    <span class="function">vector&lt;<span class="type">bool</span>&gt; <span class="title">boolFlags2</span><span class="params">(<span class="number">4</span>, <span class="number">1</span>)</span></span>;</span><br><span class="line">    <span class="built_in">display</span>(boolFlags2);</span><br><span class="line">    <span class="comment">//列表初始化</span></span><br><span class="line">    vector&lt;<span class="type">bool</span>&gt; boolFlags3&#123;<span class="literal">true</span>, <span class="literal">false</span>, <span class="literal">false</span>, <span class="literal">true</span>&#125;;</span><br><span class="line">    <span class="built_in">display</span>(boolFlags3);</span><br><span class="line">    <span class="comment">//插入元素</span></span><br><span class="line">    boolFlags3.<span class="built_in">push_back</span>(<span class="literal">true</span>);</span><br><span class="line">    <span class="built_in">display</span>(boolFlags3);</span><br><span class="line">    <span class="comment">//取反</span></span><br><span class="line">    boolFlags3.<span class="built_in">flip</span>();</span><br><span class="line">    <span class="built_in">display</span>(boolFlags3);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**输出</span></span><br><span class="line"><span class="comment">0 0 0 0 </span></span><br><span class="line"><span class="comment">1 1 1 1</span></span><br><span class="line"><span class="comment">1 0 0 1</span></span><br><span class="line"><span class="comment">1 0 0 1 1</span></span><br><span class="line"><span class="comment">0 1 1 0 0</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h2 id="智能指针">智能指针</h2>
<blockquote>
<ul>
<li>
<p>简单来说，C++智能指针是包含重载运算符的类，其行为像常规指针，但智能指针能够及时、妥善地销毁动态分配的数据，并实现了明确的对象生命周期，因此更有价值。</p>
</li>
<li>
<p>常规指针存在的问题：动态分配的对象没有正确地释放导致<font color=#ff0000><strong>内存泄漏</strong></font>。</p>
</li>
<li>
<p>智能指针类重载了解除引用运算符(*)和成员选择运算符(_&gt;)，让程序员可以像使用常规指针那样使用它们。</p>
</li>
</ul>
</blockquote>
<h3 id="智能指针类型">智能指针类型</h3>
<blockquote>
<p>智能指针的分类实际上就是内存资源管理策略的分类，可分为：</p>
<ul>
<li>深拷贝</li>
<li>写时拷贝（Copy on Write, COW）</li>
<li>引用计数</li>
<li>引用链接</li>
<li>破坏性拷贝</li>
</ul>
</blockquote>
<h4 id="深拷贝">深拷贝</h4>
<blockquote>
<ul>
<li>在实现深拷贝的智能指针中，每个智能指针实例都保存一个它管理的对象的完整副本。</li>
<li>性能有所欠缺。</li>
</ul>
</blockquote>
<h4 id="写时拷贝机制">写时拷贝机制</h4>
<blockquote>
<ul>
<li>COW试图对深拷贝智能指针的性能进行优化。它共享指针，直到首次写入对象。</li>
</ul>
</blockquote>
<h4 id="引用计数智能指针">引用计数智能指针</h4>
<blockquote>
<ul>
<li>引用计数是一种记录对象的用户数量的机制。当计数降低到0时，便将对象释放。</li>
<li>这种智能指针被复制时，需要将对象的引用计数加1。有两种常用方法来跟踪计数：
<ul>
<li>在对象中维护引用计数。（修改对象以维护和递增引用计数，并将其提供给管理对象的智能指针。）</li>
<li>引用计数由共享对象中的指针类维护。（智能指针类将计数保存在自由存储区，拷贝是拷贝构造函数将这个值加1。）</li>
</ul>
</li>
<li>使用引用计数机制，只应通过智能指针来处理对象。</li>
<li>如果两个对象分别存储指向对方的指针，这两个对象永远不会被释放，因为他们的生命周期依赖性导致其引用计数最少为1。</li>
</ul>
</blockquote>
<h4 id="引用链接智能指针">引用链接智能指针</h4>
<blockquote>
<ul>
<li>它不主动维护对象的引用计数，而只需知道计数什么时候变为0，以便能够释放对象。</li>
<li>其实现基于双向链表，通过拷贝智能指针来创建新智能指针时，新指针将被插入到链表中。</li>
<li>与引用计数一样，也存在生命周期依赖性导致的问题。</li>
</ul>
</blockquote>
<h4 id="破坏性拷贝">破坏性拷贝</h4>
<blockquote>
<ul>
<li>在智能指针被拷贝时，将对象的所有权转交给目标指针并重置原来的指针。</li>
<li>因为它可确保任何时刻只有一个活动指针指向对象。因此，它非常适合从函数返回指针以及需要利用其“破坏性”的情形。</li>
</ul>
</blockquote>
<h3 id="std-unique-str">std::unique_str</h3>
<blockquote>
<ul>
<li>C++11新增，同时摒弃auto_str（一种基于破坏性复制的智能指针）。</li>
<li>头文件<code>#include&lt;memeory&gt;</code>。</li>
<li>它的拷贝构造函数和赋值运算符是私有的，因此不能复制它，即不能进行值传递，只能按引用传递。</li>
</ul>
</blockquote>
<h2 id="文件和流">文件和流</h2>
<p>(图源网络<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_45140193/article/details/119789181">C++流(读写文件)__Space_的博客</a>)</p>
<p><img src="https://picture-cloud-storage-bed.oss-cn-chengdu.aliyuncs.com/images/202204120852048.png" alt="img"></p>
<h3 id="C-流类和流对象">C++流类和流对象</h3>
<p>(图源网络<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_45140193/article/details/119789181">C++流(读写文件)__Space_的博客</a>)</p>
<p><img src="https://picture-cloud-storage-bed.oss-cn-chengdu.aliyuncs.com/images/202204120854656.png" alt="img"></p>
<blockquote>
<ul>
<li>cin遇到空格停止，这时应当使用getline()。</li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th>类/对象</th>
<th>用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>cout</td>
<td>标准输出流</td>
</tr>
<tr>
<td>cin</td>
<td>标准输入流</td>
</tr>
<tr>
<td>cerr</td>
<td>用于显示错误信息的标准输出流</td>
</tr>
<tr>
<td>fstream</td>
<td>用于操作文件的输入输出流，继承了ofstream和ifstream</td>
</tr>
<tr>
<td>ofstream</td>
<td>用于操作文件的输出流类，即用于写入文件</td>
</tr>
<tr>
<td>ifstream</td>
<td>用于操作文件的输入流类，即用于读取文件</td>
</tr>
<tr>
<td>stringstream</td>
<td>用于操作字符串的输入输出流，继承了istringstream和ostringstream，通常用于在字符串和其他类型之间进行转换</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td>输出控制符</td>
<td></td>
</tr>
<tr>
<td>endl</td>
<td>插入一个换行符</td>
</tr>
<tr>
<td>ends</td>
<td>插入一个空字符</td>
</tr>
<tr>
<td>基数控制符</td>
<td></td>
</tr>
<tr>
<td>dec</td>
<td>让流以十进制方式解释输入或显示输出</td>
</tr>
<tr>
<td>hex</td>
<td>让流以十六进制方式解释输入或显示输出</td>
</tr>
<tr>
<td>oct</td>
<td>让流以八进制方式解释输入或显示输出</td>
</tr>
<tr>
<td>浮点数表示控制符</td>
<td></td>
</tr>
<tr>
<td>fixed</td>
<td>让流以定点表示法显示数据</td>
</tr>
<tr>
<td>scientific</td>
<td>让流以科学表示法显示数据</td>
</tr>
<tr>
<td>&lt;iomanip&gt;控制符</td>
<td></td>
</tr>
<tr>
<td>setprecision</td>
<td>设置小数精度</td>
</tr>
<tr>
<td>setw</td>
<td>设置字段宽度</td>
</tr>
<tr>
<td>setfill</td>
<td>设置填充字符</td>
</tr>
<tr>
<td>setbase</td>
<td>设置基数，等效于dec/hex/oct</td>
</tr>
<tr>
<td>setiosflag</td>
<td>通过类型为std::ios_base::fmtflags的掩码输入参数设置标志</td>
</tr>
<tr>
<td>resetiosflag</td>
<td>将std::ios_base::fmtflags参数指定的标志重置为默认值</td>
</tr>
</tbody>
</table>
<h3 id="文件流的操作模式">文件流的操作模式</h3>
<table>
<thead>
<tr>
<th style="text-align:left">模式标志</th>
<th style="text-align:left">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">ios::app</td>
<td style="text-align:left">附加到现有文件末尾，而不是覆盖。</td>
</tr>
<tr>
<td style="text-align:left">ios::ate</td>
<td style="text-align:left">文件打开后定位到文件末尾。</td>
</tr>
<tr>
<td style="text-align:left">ios::in</td>
<td style="text-align:left">以只读方式打开文件</td>
</tr>
<tr>
<td style="text-align:left">ios::out</td>
<td style="text-align:left">以只写方式打开文件</td>
</tr>
<tr>
<td style="text-align:left">ios::trunc</td>
<td style="text-align:left">如果该文件已经存在，则将其覆盖，这是ofstream默认设置。</td>
</tr>
<tr>
<td style="text-align:left">ios::binary</td>
<td style="text-align:left">创建二进制文件</td>
</tr>
</tbody>
</table>
<h3 id="文件流的状态检查">文件流的状态检查</h3>
<table>
<thead>
<tr>
<th>状态</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>is_open()</td>
<td>文件流是否打开成功</td>
</tr>
<tr>
<td>eof()</td>
<td>流是否结束</td>
</tr>
<tr>
<td>fail()</td>
<td>流的failbit或者badbit被置位时, 返回true</td>
</tr>
<tr>
<td>bad()</td>
<td>流的badbit置位时, 返回true</td>
</tr>
<tr>
<td>good()</td>
<td>流处于有效状态时, 返回true</td>
</tr>
<tr>
<td>clear()</td>
<td>流的所有状态都被复位</td>
</tr>
</tbody>
</table>
<h3 id="文件流的定位">文件流的定位</h3>
<h4 id="seekg">seekg</h4>
<blockquote>
<ul>
<li>关于 istream</li>
<li>用于设置输入流的位置</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//参数1：偏移量  参数2：相对位置</span></span><br><span class="line"><span class="comment">//对于参数2：beg 相对于开始位置；cur 相对于当前位置；end 相对于结束位置</span></span><br><span class="line"><span class="built_in">seekg</span>(off_type offset, ios::seekdir origin);</span><br><span class="line"><span class="comment">//seekg(50,infile.beg);//表示定位到从文件开始的第50个字符后</span></span><br><span class="line"><span class="comment">//seekg(-50,infile.end);//表示定位到最后50个字符</span></span><br><span class="line"><span class="comment">//seekg(0,infile.end);//定位到文件末尾</span></span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="tellg">tellg</h4>
<blockquote>
<ul>
<li>返回该输入流的当前位置（距离文件的起始位置的偏移量）。</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取文件的长度</span></span><br><span class="line">infile.<span class="built_in">seekg</span>(<span class="number">0</span>,infile.end);</span><br><span class="line"><span class="type">int</span> len = infile.<span class="built_in">tellg</span>();</span><br></pre></td></tr></table></figure>
</blockquote>
<h4 id="seekp">seekp</h4>
<blockquote>
<ul>
<li>关于 ostream</li>
<li>设置输出流的位置</li>
<li>参数同seekg</li>
</ul>
</blockquote>
<h3 id="cin-cout">cin &amp; cout</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> input = <span class="number">10</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;input an integer:&quot;</span>;</span><br><span class="line">    cin &gt;&gt; input;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;integer in Octal:&quot;</span> &lt;&lt; oct &lt;&lt; input &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;integer in Hexadecimal:&quot;</span> &lt;&lt; hex &lt;&lt; input &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="type">double</span> PI = <span class="number">3.1415926</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;PI = &quot;</span> &lt;&lt; PI &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;PI = &quot;</span> &lt;&lt; <span class="built_in">setprecision</span>(<span class="number">7</span>) &lt;&lt; PI &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;PI = &quot;</span> &lt;&lt; scientific &lt;&lt; PI &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;PI = &quot;</span> &lt;&lt; fixed &lt;&lt; PI &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    string str = <span class="string">&quot;Hello World!&quot;</span>;</span><br><span class="line">    cout &lt;&lt; str &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//设置字段宽度</span></span><br><span class="line">    cout &lt;&lt; <span class="built_in">setw</span>(<span class="number">20</span>) &lt;&lt; str &lt;&lt; endl;</span><br><span class="line">    <span class="comment">// setfill()设置用什么字符来填充空白区域</span></span><br><span class="line">    cout &lt;&lt; <span class="built_in">setw</span>(<span class="number">20</span>) &lt;&lt; <span class="built_in">setfill</span>(<span class="string">&#x27;*&#x27;</span>) &lt;&lt; str &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// cin遇到空格停止插入,要读取整行,需要使用getline()</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;input a string by getline():&quot;</span>;</span><br><span class="line">    <span class="built_in">getline</span>(cin, str);</span><br><span class="line">    cout &lt;&lt; str &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="std-fstream">std::fstream</h3>
<blockquote>
<ul>
<li>头文件<code>#include&lt;fstream&gt;</code></li>
</ul>
</blockquote>
<h4 id="打开文件">打开文件</h4>
<blockquote>
<ul>
<li>使用<code>open()</code>函数。</li>
<li>使用构造函数。</li>
<li>使用<code>is_open()</code>检测<code>open()</code>是否成功。</li>
</ul>
</blockquote>
<h4 id="关闭文件">关闭文件</h4>
<blockquote>
<ul>
<li>文件打开后必须关闭，<code>close()</code>。</li>
</ul>
</blockquote>
<h3 id="文本文件读取-写入">文本文件读取/写入</h3>
<blockquote>
<p>直接使用运算符<code>&lt;&lt;</code>，<code>&gt;&gt;</code>。</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">outputData</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">string <span class="title">name</span><span class="params">(<span class="string">&quot;I am a small bird!&quot;</span>)</span></span>;</span><br><span class="line">    <span class="type">int</span> age = <span class="number">30</span>;</span><br><span class="line">    <span class="comment">//如果不包含路径,则表示在当前工作目录(和cpp文件的同级目录)</span></span><br><span class="line">    string filename = <span class="string">&quot;user.txt&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ofstream的默认打开方式是,截断式写入 ios::out|ios::trunc</span></span><br><span class="line">    <span class="comment">// fstream的默认打开方式是, ios::out</span></span><br><span class="line">    <span class="comment">//建议指定打开方式</span></span><br><span class="line">    <span class="comment">//文件不存在则创建</span></span><br><span class="line">    ofstream outfile;</span><br><span class="line">    <span class="comment">// outfile.open(filename);</span></span><br><span class="line">    outfile.<span class="built_in">open</span>(filename, ios::out | ios::trunc);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//判断文件打开成功</span></span><br><span class="line">    <span class="keyword">if</span> (outfile.<span class="built_in">is_open</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        outfile &lt;&lt; <span class="string">&quot;name: &quot;</span> &lt;&lt; name &lt;&lt; endl</span><br><span class="line">                &lt;&lt; <span class="string">&quot;age: &quot;</span> &lt;&lt; age &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">        outfile.<span class="built_in">close</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;File open failed!&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">inputData</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    string name;</span><br><span class="line">    string line;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="comment">//使用构造函数打开文件</span></span><br><span class="line">    string filename = <span class="string">&quot;user.txt&quot;</span>;</span><br><span class="line">    <span class="function">ifstream <span class="title">infile</span><span class="params">(filename, ios::in)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (infile.<span class="built_in">is_open</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">getline</span>(infile, line);</span><br><span class="line">            <span class="keyword">if</span> (infile.<span class="built_in">eof</span>())</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            cout &lt;&lt; line &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        infile.<span class="built_in">close</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;File open failed!&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">outputData</span>();</span><br><span class="line">    <span class="built_in">inputData</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="二进制文件读取-写入">二进制文件读取/写入</h3>
<blockquote>
<ul>
<li>使用<code>write()</code>，<code>read()</code>。</li>
<li>将要读写的数据转换为C风格的字符（串）进行输入/输出。</li>
<li><strong>指定了打开模式ios::binary，文件才能以二进制的方式操作，否则将以ASCII方式(文本文件)打开。</strong></li>
</ul>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">//这里可以看到:使用二进制读写文件,需要将数据转换为C风格的字符或字符串</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">outputBinaryData</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">string <span class="title">name</span><span class="params">(<span class="string">&quot;I am a small bird!&quot;</span>)</span></span>;</span><br><span class="line">    <span class="type">int</span> age = <span class="number">30</span>;</span><br><span class="line">    string filename = <span class="string">&quot;user.dat&quot;</span>;</span><br><span class="line"></span><br><span class="line">    ofstream outfile;</span><br><span class="line">    outfile.<span class="built_in">open</span>(filename, ios::out | ios::trunc | ios::binary);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (outfile.<span class="built_in">is_open</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        outfile.<span class="built_in">write</span>((<span class="type">char</span> *)&amp;age, <span class="built_in">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">        outfile.<span class="built_in">write</span>(name.<span class="built_in">c_str</span>(), <span class="built_in">sizeof</span>(<span class="type">char</span>) * (name.<span class="built_in">size</span>()));</span><br><span class="line"></span><br><span class="line">        outfile.<span class="built_in">close</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;File open failed!&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">inputBinaryData</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">char</span> line[<span class="number">256</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="comment">//指定了打开模式ios::binary,文件才能以二进制的方式操作,否则将以ASCII方式(文本文件)打开</span></span><br><span class="line">    string filename = <span class="string">&quot;user.dat&quot;</span>;</span><br><span class="line">    <span class="function">ifstream <span class="title">infile</span><span class="params">(filename, ios::in | ios::binary)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (infile.<span class="built_in">is_open</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        infile.<span class="built_in">read</span>((<span class="type">char</span> *)&amp;age, <span class="built_in">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">        infile.<span class="built_in">read</span>(line, <span class="built_in">sizeof</span>(<span class="type">char</span>) * <span class="number">256</span>);</span><br><span class="line"></span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;age:&quot;</span> &lt;&lt; age &lt;&lt; endl;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;line:&quot;</span> &lt;&lt; line &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">        infile.<span class="built_in">close</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;File open failed!&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">outputBinaryData</span>();</span><br><span class="line">    <span class="built_in">inputBinaryData</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="std-stringstream进行字符串转换">std::stringstream进行字符串转换</h3>
<blockquote>
<ul>
<li>头文件<code>#include &lt;sstream&gt;</code></li>
</ul>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> input = <span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> copy = <span class="number">0</span>;</span><br><span class="line">    string inputAsStr;</span><br><span class="line">    stringstream converterStream1;</span><br><span class="line">    converterStream1 &lt;&lt; input;</span><br><span class="line">    converterStream1 &gt;&gt; inputAsStr;</span><br><span class="line">    stringstream converterStream2;</span><br><span class="line">    converterStream2 &lt;&lt; inputAsStr;</span><br><span class="line">    converterStream2 &gt;&gt; copy;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Integer &lt;convert&gt; String</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Integer Input = &quot;</span> &lt;&lt; input &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;String gained from integer = &quot;</span> &lt;&lt; inputAsStr &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Integer gained from String, copy = &quot;</span> &lt;&lt; copy &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**输出</span></span><br><span class="line"><span class="comment">Integer Input = 10</span></span><br><span class="line"><span class="comment">String gained from integer = 10</span></span><br><span class="line"><span class="comment">Integer gained from String, copy = 10</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h3 id="总结-2">总结</h3>
<blockquote>
<ul>
<li><strong>只想读取文件时，务必使用<code>ifstream</code>。</strong></li>
<li><strong>只想写入文件时，务必使用<code>ofstream</code>。</strong></li>
<li><strong>打开文件时，务必使用<code>is_open</code>判断打开成功。</strong></li>
<li><strong>打开文件后，务必使用<code>close()</code>进行关闭。</strong></li>
<li><strong>使用<code>cin&gt;&gt;</code>进行输入字符串时，遇到空格停止，此时应使用<code>getline()</code>。</strong></li>
</ul>
</blockquote>
<!--end in 2022.04.11-->
<h2 id="异常处理">异常处理</h2>
<h3 id="异常">异常</h3>
<blockquote>
<ul>
<li>异常会打断应用程序的正常流程。</li>
<li>异常处理就是应对打断程序流程的特殊情形。</li>
<li>异常可能是外部因素导致的，如系统没有足够的内存；也可能是应用程序内部因素导致的，如除数为0。</li>
</ul>
</blockquote>
<h3 id="使用try-catch捕获异常">使用try-catch捕获异常</h3>
<ol>
<li>可使用<code>catch(...)</code>处理所有异常。参数<code>...</code>意味着catch块捕获所有的异常。</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> input = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> *array = <span class="keyword">new</span> <span class="type">int</span>[input];</span><br><span class="line">        <span class="keyword">delete</span>[] array;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">catch</span> (...)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;Exception occurred!&quot;</span> &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>捕获特定类型的异常。</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> input = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> *array = <span class="keyword">new</span> <span class="type">int</span>[input];</span><br><span class="line">        <span class="keyword">delete</span>[] array;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">catch</span> (std::bad_alloc &amp;exp) <span class="comment">//捕获并处理内存分配异常</span></span><br><span class="line">    &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Exception encountered: &quot;</span> &lt;&lt; exp.<span class="built_in">what</span>() &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">catch</span> (...) <span class="comment">//捕获除了上述异常的其他所有异常</span></span><br><span class="line">    &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Exception encountered!&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>使用<code>throw</code>引发自定义异常</li>
</ol>
<h3 id="std-exception类">std::exception类</h3>
<blockquote>
<ul>
<li><code>std::exception</code>异常基类，头文件<code>#include&lt;exception&gt;</code>。</li>
<li>重要的异常类（都是从std::exception派生而来）
<ul>
<li><code>bad_alloc</code>：使用<code>new</code>请求申请内存失败时引发。</li>
<li><code>bad_cast</code>：试图使用<code>dynamic_cast</code>转换错误类型时引发。</li>
<li><code>ios_base::failure</code>：由<code>iostream</code>库中的函数和方法引发。</li>
</ul>
</li>
<li><code>std::exception</code>定义了虚方法<code>what()</code>，它详细描述了导致异常的原因。</li>
<li>可以使用<code>catch(const std::exception&amp; exp)</code>捕获所有以它作为基类的异常。</li>
<li>可以从<code>std::exception</code>派生出自定义异常类。</li>
</ul>
</blockquote>
<h2 id="编写实践">编写实践</h2>
<blockquote>
<ul>
<li>给变量指定有意义的名称。</li>
<li>对于int，float等变量，务必进行初始化。</li>
<li>务必将指针初始化为NULL或有效的地址。</li>
<li>使用数组时，务必不要访问越界！</li>
<li>不要使用C风格的字符串缓冲区（char*）及其相关函数和方法，而是使用std::string！</li>
<li>仅当确定要包含的元素数时才使用静态数组，否则，应使用动态数组。</li>
<li>如果类包含原始指针成员，务必考虑编写复制构造函数和重载赋值运算符。</li>
<li>正确的使用const。</li>
<li>尽可能避免使用原始指针，而使用智能指针。</li>
<li>务必使用模板而不是宏。</li>
<li>如果lambda表达式过于复杂或者有重用需求，务必将其转为函数对象。</li>
<li>务必捕获并处理所有可能引发的异常，如内存分配失败等。</li>
<li>绝不要在析构函数中引发异常。</li>
</ul>
</blockquote>
<!--总结：离谱整整拖了一个月才把这本书看完，中间拖了有好几天没有看，中途还因为图书超期了，先把书还了再重新借回来。不过，总算是看完了（走出了C++的第一步，之前本科学的感觉学了个寂寞）。-->
<!--Completed by GuoJin Lv, 2022.04.13-->
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://guojin_lv.gitee.io/hexo-blogs">JoeGoodyLv</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://guojin_lv.gitee.io/hexo-blogs/2022/08/19/C++%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0(1)/">https://guojin_lv.gitee.io/hexo-blogs/2022/08/19/C++学习笔记(1)/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://guojin_lv.gitee.io/hexo-blogs" target="_blank">JoeGoodyLv</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="/hexo-blogs/img/2.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/hexo-blogs/2022/08/19/Hexo+Gitee%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"><img class="prev-cover" src="https://w.wallhaven.cc/full/z8/wallhaven-z8dg9y.png" onerror="onerror=null;src='/hexo-blogs/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Hexo+Gitee搭建个人博客</div></div></a></div><div class="next-post pull-right"><a href="/hexo-blogs/2022/04/07/A5%E7%AE%97%E6%B3%95/"><img class="next-cover" src="https://w.wallhaven.cc/full/q2/wallhaven-q28x3l.jpg" onerror="onerror=null;src='/hexo-blogs/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">A5算法</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">C++学习笔记(1)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#auto"><span class="toc-number">1.1.</span> <span class="toc-text">auto</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#const-constexpr"><span class="toc-number">1.2.</span> <span class="toc-text">const; constexpr</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E6%95%B0%E7%BB%84"><span class="toc-number">1.3.</span> <span class="toc-text">动态数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#C-%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">1.4.</span> <span class="toc-text">C++字符串</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E8%81%94%E5%87%BD%E6%95%B0"><span class="toc-number">1.5.</span> <span class="toc-text">内联函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E9%92%88"><span class="toc-number">1.6.</span> <span class="toc-text">指针</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#new-std-nothrow"><span class="toc-number">1.7.</span> <span class="toc-text">new(std::nothrow)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%95%E7%94%A8"><span class="toc-number">1.8.</span> <span class="toc-text">引用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%92%8C%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.9.</span> <span class="toc-text">类和对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">1.9.1.</span> <span class="toc-text">拷贝构造函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E4%BE%8B%E7%B1%BB"><span class="toc-number">1.9.2.</span> <span class="toc-text">单例类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#explicit"><span class="toc-number">1.9.3.</span> <span class="toc-text">explicit</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF%EF%BC%88inheritance%EF%BC%89"><span class="toc-number">1.10.</span> <span class="toc-text">继承（inheritance）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E6%80%81%EF%BC%88polymorphism%EF%BC%89"><span class="toc-number">1.11.</span> <span class="toc-text">多态（polymorphism）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E8%99%9A%E5%87%BD%E6%95%B0%E5%AE%9E%E7%8E%B0%E5%A4%9A%E6%80%81"><span class="toc-number">1.11.1.</span> <span class="toc-text">使用虚函数实现多态</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%AF%E8%99%9A%E5%87%BD%E6%95%B0"><span class="toc-number">1.11.2.</span> <span class="toc-text">纯虚函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%99%9A%E7%BB%A7%E6%89%BF"><span class="toc-number">1.11.3.</span> <span class="toc-text">虚继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#override-C-11"><span class="toc-number">1.11.4.</span> <span class="toc-text">override(C++11)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.12.</span> <span class="toc-text">运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD"><span class="toc-number">1.12.1.</span> <span class="toc-text">运算符重载</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#C-%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.13.</span> <span class="toc-text">C++类型转换运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#static-cast"><span class="toc-number">1.13.1.</span> <span class="toc-text">static_cast</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dynamic-cast"><span class="toc-number">1.13.2.</span> <span class="toc-text">dynamic_cast</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#reinterpret-cast"><span class="toc-number">1.13.3.</span> <span class="toc-text">reinterpret_cast</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#const-cast"><span class="toc-number">1.13.4.</span> <span class="toc-text">const_cast</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%99%A4dynamic-cast%E5%A4%96%E7%9A%84%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E9%83%BD%E6%98%AF%E5%8F%AF%E4%BB%A5%E9%81%BF%E5%85%8D%E7%9A%84%EF%BC%9B%E5%BA%94%E5%B0%BD%E9%87%8F%E9%81%BF%E5%85%8D%E4%BD%BF%E7%94%A8%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E3%80%82"><span class="toc-number">1.13.5.</span> <span class="toc-text">除dynamic_cast外的类型转换都是可以避免的；应尽量避免使用类型转换。</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%8F"><span class="toc-number">1.14.</span> <span class="toc-text">宏</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-define%E5%AE%9A%E4%B9%89%E5%B8%B8%E9%87%8F"><span class="toc-number">1.14.1.</span> <span class="toc-text">使用#define定义常量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%AE%8F%E9%81%BF%E5%85%8D%E5%A4%9A%E6%AC%A1%E5%8C%85%E5%90%AB"><span class="toc-number">1.14.2.</span> <span class="toc-text">使用宏避免多次包含</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-define%E7%BC%96%E5%86%99%E5%AE%8F%E5%87%BD%E6%95%B0"><span class="toc-number">1.14.3.</span> <span class="toc-text">使用#define编写宏函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8assert%E5%AE%8F%E9%AA%8C%E8%AF%81%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.14.4.</span> <span class="toc-text">使用assert宏验证表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%BD%E9%87%8F%E4%B8%8D%E8%A6%81%E8%87%AA%E5%B7%B1%E7%BC%96%E5%86%99%E5%AE%8F%E5%87%BD%E6%95%B0%EF%BC%9B%E4%BD%BF%E7%94%A8const%E5%B8%B8%E9%87%8F%E8%80%8C%E4%B8%8D%E6%98%AF%E5%AE%8F%E5%B8%B8%E9%87%8F%E3%80%82%E5%AE%8F%E4%B8%8D%E6%98%AF%E7%B1%BB%E5%9E%8B%E5%AE%89%E5%85%A8%E7%9A%84%E3%80%82"><span class="toc-number">1.14.5.</span> <span class="toc-text">尽量不要自己编写宏函数；使用const常量而不是宏常量。宏不是类型安全的。</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF"><span class="toc-number">1.15.</span> <span class="toc-text">模板</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E5%A3%B0%E6%98%8E-template"><span class="toc-number">1.15.1.</span> <span class="toc-text">模板声明 template</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E5%87%BD%E6%95%B0"><span class="toc-number">1.15.2.</span> <span class="toc-text">模板函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E7%B1%BB"><span class="toc-number">1.15.3.</span> <span class="toc-text">模板类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E6%95%B0%E9%87%8F%E5%8F%AF%E5%8F%98%E7%9A%84%E6%A8%A1%E6%9D%BF-C-11"><span class="toc-number">1.15.4.</span> <span class="toc-text">参数数量可变的模板(C++11)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#static-assert-C-11"><span class="toc-number">1.15.5.</span> <span class="toc-text">static_assert(C++11)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%87%E5%87%86%E6%A8%A1%E6%9D%BF%E5%BA%93"><span class="toc-number">1.16.</span> <span class="toc-text">标准模板库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#STL%E5%AE%B9%E5%99%A8"><span class="toc-number">1.16.1.</span> <span class="toc-text">STL容器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%BA%E5%BA%8F%E5%AE%B9%E5%99%A8"><span class="toc-number">1.16.1.1.</span> <span class="toc-text">顺序容器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E8%81%94%E5%AE%B9%E5%99%A8"><span class="toc-number">1.16.1.2.</span> <span class="toc-text">关联容器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8%E9%80%82%E9%85%8D%E5%99%A8%EF%BC%88Container-Adapter%EF%BC%89"><span class="toc-number">1.16.1.3.</span> <span class="toc-text">容器适配器（Container Adapter）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#STL%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="toc-number">1.16.2.</span> <span class="toc-text">STL迭代器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#STL%E7%AE%97%E6%B3%95"><span class="toc-number">1.16.3.</span> <span class="toc-text">STL算法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#STL%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB"><span class="toc-number">1.16.4.</span> <span class="toc-text">STL字符串类</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#STL-string%E7%B1%BB"><span class="toc-number">1.17.</span> <span class="toc-text">STL string类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E5%8C%96string"><span class="toc-number">1.17.1.</span> <span class="toc-text">实例化string</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#string%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5"><span class="toc-number">1.17.2.</span> <span class="toc-text">string增删改查</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#STL-vector%E7%B1%BB"><span class="toc-number">1.18.</span> <span class="toc-text">STL vector类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E5%8C%96vector"><span class="toc-number">1.18.1.</span> <span class="toc-text">实例化vector</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vector%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5"><span class="toc-number">1.18.2.</span> <span class="toc-text">vector增删改查</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#STL-deque%E7%B1%BB"><span class="toc-number">1.18.3.</span> <span class="toc-text">STL deque类</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#STL-list%E7%B1%BB"><span class="toc-number">1.19.</span> <span class="toc-text">STL list类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E5%8C%96list"><span class="toc-number">1.19.1.</span> <span class="toc-text">实例化list</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#list%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5"><span class="toc-number">1.19.2.</span> <span class="toc-text">list增删改查</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#STL-forward-list-C-11"><span class="toc-number">1.19.3.</span> <span class="toc-text">STL forward_list(C++11)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#STL-%E9%9B%86%E5%90%88%E7%B1%BB"><span class="toc-number">1.20.</span> <span class="toc-text">STL 集合类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#set%E5%92%8Cmultiset"><span class="toc-number">1.20.1.</span> <span class="toc-text">set和multiset</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E5%8C%96"><span class="toc-number">1.20.1.1.</span> <span class="toc-text">实例化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A2%9E%E5%88%A0%E6%9F%A5"><span class="toc-number">1.20.1.2.</span> <span class="toc-text">增删查</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#unordered-set%E5%92%8Cunordered-multiset-C-11"><span class="toc-number">1.20.2.</span> <span class="toc-text">unordered_set和unordered_multiset(C++11)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#STL-%E6%98%A0%E5%B0%84%E7%B1%BB"><span class="toc-number">1.21.</span> <span class="toc-text">STL 映射类</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#map%E5%92%8Cmultimap"><span class="toc-number">1.21.1.</span> <span class="toc-text">map和multimap</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E5%8C%96-2"><span class="toc-number">1.21.1.1.</span> <span class="toc-text">实例化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A2%9E%E5%88%A0%E6%9F%A5-2"><span class="toc-number">1.21.1.2.</span> <span class="toc-text">增删查</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#unordered-map%E5%92%8Cunordered-multimap-C-11"><span class="toc-number">1.21.2.</span> <span class="toc-text">unordered_map和unordered_multimap(C++11)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.22.</span> <span class="toc-text">函数对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E5%85%83%E5%87%BD%E6%95%B0"><span class="toc-number">1.22.1.</span> <span class="toc-text">一元函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E5%85%83%E5%87%BD%E6%95%B0"><span class="toc-number">1.22.2.</span> <span class="toc-text">二元函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%88C-11%E6%96%B0%E5%A2%9E%EF%BC%89"><span class="toc-number">1.23.</span> <span class="toc-text">lambda表达式（C++11新增）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.23.1.</span> <span class="toc-text">定义lambda表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E5%85%83%E5%87%BD%E6%95%B0%E5%AF%B9%E5%BA%94%E7%9A%84lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.23.2.</span> <span class="toc-text">一元函数对应的lambda表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E5%85%83%E8%B0%93%E8%AF%8D%E5%AF%B9%E5%BA%94%E7%9A%84lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.23.3.</span> <span class="toc-text">一元谓词对应的lambda表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E6%8D%95%E8%8E%B7%E5%88%97%E8%A1%A8%E6%8E%A5%E5%8F%97%E7%8A%B6%E6%80%81%E5%8F%98%E9%87%8F%E7%9A%84lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.23.4.</span> <span class="toc-text">通过捕获列表接受状态变量的lambda表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E9%80%9A%E7%94%A8%E8%AF%AD%E6%B3%95"><span class="toc-number">1.23.5.</span> <span class="toc-text">lambda表达式的通用语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E5%85%83%E5%87%BD%E6%95%B0%E5%AF%B9%E5%BA%94%E7%9A%84lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.23.6.</span> <span class="toc-text">二元函数对应的lambda表达式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#STL%E7%AE%97%E6%B3%95-2"><span class="toc-number">1.24.</span> <span class="toc-text">STL算法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#STL%E7%AE%97%E6%B3%95%E7%9A%84%E5%88%86%E7%B1%BB"><span class="toc-number">1.24.1.</span> <span class="toc-text">STL算法的分类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9D%9E%E5%8F%98%E5%BA%8F%E7%AE%97%E6%B3%95"><span class="toc-number">1.24.1.1.</span> <span class="toc-text">非变序算法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%98%E5%BA%8F%E7%AE%97%E6%B3%95"><span class="toc-number">1.24.1.2.</span> <span class="toc-text">变序算法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8STL%E7%AE%97%E6%B3%95"><span class="toc-number">1.24.2.</span> <span class="toc-text">使用STL算法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#find-find-if"><span class="toc-number">1.24.2.1.</span> <span class="toc-text">find() &amp; find_if()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#count-count-if"><span class="toc-number">1.24.2.2.</span> <span class="toc-text">count() &amp; count_if()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#fill-fill-n"><span class="toc-number">1.24.2.3.</span> <span class="toc-text">fill() &amp; fill_n()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#generate-generate-n"><span class="toc-number">1.24.2.4.</span> <span class="toc-text">generate() &amp; generate_n()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#for-each"><span class="toc-number">1.24.2.5.</span> <span class="toc-text">for_each()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#transform"><span class="toc-number">1.24.2.6.</span> <span class="toc-text">transform()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#copy-copy-if-remove-remove-if"><span class="toc-number">1.24.2.7.</span> <span class="toc-text">copy() &amp; copy_if() &amp; remove() &amp; remove_if()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#replace-replace-if"><span class="toc-number">1.24.2.8.</span> <span class="toc-text">replace() &amp; replace_if()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sort-resize-binary-search"><span class="toc-number">1.24.2.9.</span> <span class="toc-text">sort() &amp; resize() &amp; binary_search()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#partition"><span class="toc-number">1.24.2.10.</span> <span class="toc-text">partition()</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#lower-bound-upper-bound"><span class="toc-number">1.24.2.11.</span> <span class="toc-text">lower_bound() &amp; upper_bound()</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.24.3.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E9%80%82%E5%BA%94%E5%AE%B9%E5%99%A8%EF%BC%9A%E6%A0%88%E5%92%8C%E9%98%9F%E5%88%97"><span class="toc-number">1.25.</span> <span class="toc-text">自适应容器：栈和队列</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%88"><span class="toc-number">1.25.1.</span> <span class="toc-text">栈</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#std-stack%E5%AE%9E%E4%BE%8B%E5%8C%96"><span class="toc-number">1.25.1.1.</span> <span class="toc-text">std::stack实例化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#std-stack%E7%9A%84%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0"><span class="toc-number">1.25.1.2.</span> <span class="toc-text">std::stack的成员函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%9F%E5%88%97"><span class="toc-number">1.25.2.</span> <span class="toc-text">队列</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#std-queue%E5%AE%9E%E4%BE%8B%E5%8C%96"><span class="toc-number">1.25.2.1.</span> <span class="toc-text">std::queue实例化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#std-queue%E7%9A%84%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0"><span class="toc-number">1.25.2.2.</span> <span class="toc-text">std::queue的成员函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%98%E5%85%88%E7%BA%A7%E9%98%9F%E5%88%97"><span class="toc-number">1.25.3.</span> <span class="toc-text">优先级队列</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#std-priority-queue%E5%AE%9E%E4%BE%8B%E5%8C%96"><span class="toc-number">1.25.3.1.</span> <span class="toc-text">std::priority_queue实例化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#std-priority-queue%E7%9A%84%E6%88%90%E5%91%98%E5%87%BD%E6%95%B0"><span class="toc-number">1.25.3.2.</span> <span class="toc-text">std::priority_queue的成员函数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#STL%E4%BD%8D%E6%A0%87%E5%BF%97"><span class="toc-number">1.26.</span> <span class="toc-text">STL位标志</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#bitset%E7%B1%BB"><span class="toc-number">1.26.1.</span> <span class="toc-text">bitset类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#std-bitset%E5%AE%9E%E4%BE%8B%E5%8C%96"><span class="toc-number">1.26.1.1.</span> <span class="toc-text">std::bitset实例化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#std-bitset%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.26.1.2.</span> <span class="toc-text">std::bitset运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#std-bitset%E6%88%90%E5%91%98%E6%96%B9%E6%B3%95"><span class="toc-number">1.26.1.3.</span> <span class="toc-text">std::bitset成员方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vector-bool"><span class="toc-number">1.26.2.</span> <span class="toc-text">vector&lt;bool&gt;</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88"><span class="toc-number">1.27.</span> <span class="toc-text">智能指针</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.27.1.</span> <span class="toc-text">智能指针类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%B1%E6%8B%B7%E8%B4%9D"><span class="toc-number">1.27.1.1.</span> <span class="toc-text">深拷贝</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%99%E6%97%B6%E6%8B%B7%E8%B4%9D%E6%9C%BA%E5%88%B6"><span class="toc-number">1.27.1.2.</span> <span class="toc-text">写时拷贝机制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%95%E7%94%A8%E8%AE%A1%E6%95%B0%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88"><span class="toc-number">1.27.1.3.</span> <span class="toc-text">引用计数智能指针</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%95%E7%94%A8%E9%93%BE%E6%8E%A5%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88"><span class="toc-number">1.27.1.4.</span> <span class="toc-text">引用链接智能指针</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A0%B4%E5%9D%8F%E6%80%A7%E6%8B%B7%E8%B4%9D"><span class="toc-number">1.27.1.5.</span> <span class="toc-text">破坏性拷贝</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#std-unique-str"><span class="toc-number">1.27.2.</span> <span class="toc-text">std::unique_str</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%92%8C%E6%B5%81"><span class="toc-number">1.28.</span> <span class="toc-text">文件和流</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#C-%E6%B5%81%E7%B1%BB%E5%92%8C%E6%B5%81%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.28.1.</span> <span class="toc-text">C++流类和流对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%B5%81%E7%9A%84%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.28.2.</span> <span class="toc-text">文件流的操作模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%B5%81%E7%9A%84%E7%8A%B6%E6%80%81%E6%A3%80%E6%9F%A5"><span class="toc-number">1.28.3.</span> <span class="toc-text">文件流的状态检查</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%B5%81%E7%9A%84%E5%AE%9A%E4%BD%8D"><span class="toc-number">1.28.4.</span> <span class="toc-text">文件流的定位</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#seekg"><span class="toc-number">1.28.4.1.</span> <span class="toc-text">seekg</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#tellg"><span class="toc-number">1.28.4.2.</span> <span class="toc-text">tellg</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#seekp"><span class="toc-number">1.28.4.3.</span> <span class="toc-text">seekp</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cin-cout"><span class="toc-number">1.28.5.</span> <span class="toc-text">cin &amp; cout</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#std-fstream"><span class="toc-number">1.28.6.</span> <span class="toc-text">std::fstream</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6"><span class="toc-number">1.28.6.1.</span> <span class="toc-text">打开文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E9%97%AD%E6%96%87%E4%BB%B6"><span class="toc-number">1.28.6.2.</span> <span class="toc-text">关闭文件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96-%E5%86%99%E5%85%A5"><span class="toc-number">1.28.7.</span> <span class="toc-text">文本文件读取&#x2F;写入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6%E8%AF%BB%E5%8F%96-%E5%86%99%E5%85%A5"><span class="toc-number">1.28.8.</span> <span class="toc-text">二进制文件读取&#x2F;写入</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#std-stringstream%E8%BF%9B%E8%A1%8C%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.28.9.</span> <span class="toc-text">std::stringstream进行字符串转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-2"><span class="toc-number">1.28.10.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="toc-number">1.29.</span> <span class="toc-text">异常处理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8"><span class="toc-number">1.29.1.</span> <span class="toc-text">异常</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8try-catch%E6%8D%95%E8%8E%B7%E5%BC%82%E5%B8%B8"><span class="toc-number">1.29.2.</span> <span class="toc-text">使用try-catch捕获异常</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#std-exception%E7%B1%BB"><span class="toc-number">1.29.3.</span> <span class="toc-text">std::exception类</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%96%E5%86%99%E5%AE%9E%E8%B7%B5"><span class="toc-number">1.30.</span> <span class="toc-text">编写实践</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 By JoeGoodyLv</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="聊天"><i class="fas fa-sms"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/hexo-blogs/js/utils.js"></script><script src="/hexo-blogs/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="/hexo-blogs/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex/dist/contrib/copy-tex.min.js"></script><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', { class: 'katex-wrap'})
  })
})()</script></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="false"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>